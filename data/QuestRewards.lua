local v0={};local v1=string.char;local v2=string.byte;local v3=string.sub;local v4=bit32 or bit ;local v5=v4.bxor;local v6=table.concat;local v7=table.insert;local function v8(v27,v28) local v29={};for v66=1, #v27 do v7(v29,v1(v5(v2(v3(v27,v66,v66 + 1 )),v2(v3(v28,1 + (v66% #v28) ,1 + (v66% #v28) + 1 )))%256 ));end return v6(v29);end local v9,v10=...;local v11=v10.G.GetCoinTextureString;local v12=v10.asserttype;v10.QuestRewards=v10:NewRepository(v8("\227\198\204\36\244\191","\126\177\163\187\69\134\219\167"),v8("\49\200\61\196\238\39\228\46","\156\67\173\74\165"));v10.QuestRewards:SetSaveDataSource(v8("\5\162\76\5\168\20\67\35\182\91\18\175","\38\84\215\41\118\220\70"));v10.QuestRewards:EnableWrite(true);v10.QuestRewards:EnableCompression(true);v10.QuestRewards:EnableTimestamps(true);v10.QuestRewardStatus={[v8("\101\24\33\30\255\89\27\39\22","\158\48\118\66\114")]=v8("\158\42\19\58\114\172\246\174\32","\155\203\68\112\86\19\197"),[v8("\107\220\63\240\115\125\235\236","\152\38\189\86\156\32\24\133")]=v8("\209\86\174\74\207\82\169\82","\38\156\55\199"),[v8("\133\124\117\36\33\113\249\70\161\107\121\44","\35\200\29\28\72\115\20\154")]=v8("\52\190\216\211\191\41\55\28\182\199\218\137","\84\121\223\177\191\237\76"),[v8("\143\68\200\164\63\84","\161\219\54\169\192\90\48\80")]=v8("\125\80\1\33\76\70","\69\41\34\96"),[v8("\159\207\214\3\15\46\184","\75\220\163\183\106\98")]=v8("\33\182\138\62\212\7\190","\185\98\218\235\87")};local v15=v10.QuestRewardStatus;local v16={[v15.MailReceived]=true,[v15.Traded]=true,[v15.Claimed]=true};local function v17(v30,v31) return string.format(v8("\217\57\48\231\204\174\134\121\52\171\155\185","\202\171\92\71\134\190"),v30.questId,tostring(v31));end local function v18(v32) local v33=0;local v34;while true do if (v33==0) then v34={};for v68,v69 in ipairs(v32.rewards.givers) do v34[ #v34 + (2 -1) ]=v10:PopulateText(v69,v32);end v33=1;end if (v33==1) then return v34;end end end local function v19(v35,v36,v37) local v38=0;local v39;while true do if (v38==0) then v39=v10:LookupItem(v36);return {[v8("\59\196\59\137\59\197\5\140","\232\73\161\76")]=v17(v35,v36),[v8("\170\204\71\78\10\146\221","\126\219\185\34\61")]=v35.questId,[v8("\31\218\95\102\107\100","\135\108\174\62\18\30\23\147")]=v15.Unclaimed,[v8("\177\224\60\206\10\189","\167\214\137\74\171\120\206\83")]=v18(v35),[v8("\130\228\55\80\209\163","\199\235\144\82\61\152")]=v36,[v8("\14\2\188\38\41\23\180\46","\75\103\118\217")]=v39.name,[v8("\206\64\117\25\149\23\201\95","\126\167\52\16\116\217")]=v39.link,[v8("\193\58\37\141\133\12\253\198\58\41\148\173","\156\168\78\64\224\212\121")]=v37};end end end local function v20(v40,v41) return {[v8("\21\235\178\207\21\234\140\202","\174\103\142\197")]=v17(v40,v8("\91\39\81\61\60","\152\54\72\63\88\69\62")),[v8("\197\209\235\79\192\237\234","\60\180\164\142")]=v40.questId,[v8("\75\74\4\61\50\254","\114\56\62\101\73\71\141")]=v15.Unclaimed,[v8("\191\224\205\193\170\250","\164\216\137\187")]=v18(v40),[v8("\223\233\63\183\191","\107\178\134\81\210\198\158")]=v41};end local function v21(v42,v43,v44) local v45=0;while true do if (0==v45) then if (( not v44 and v42:FindByID(v43.rewardId)) or (332>=4003)) then return;end v42:Save(v43);break;end end end local function v22(v46,v47) local v48=0;while true do if (v48==0) then if (v16[v46.status] or (3291<=3280)) then return false;end if ((4386>=873) and v46.money) then if ((921<=1102) and v47.targetMoney and (v47.targetMoney>(209 -(111 + 98)))) then return true;end elseif ((4706>=963) and v46.itemId) then if ((v47.targetItems and ( #v47.targetItems>(1523 -(1098 + 425)))) or (960<=876)) then for v88,v89 in ipairs(v47.targetItems) do if ((v89.itemId==v46.itemId) or (2066==932)) then return true;end end end end break;end end end v10.QuestRewards.FindClaimedRewards=function(v49) return v49:FindByQuery(function(v67) return v67.status and v16[v67.status] ;end);end;v10.QuestRewards.FindRewardsByGiver=function(v50,v51) local v52=0;while true do if (v52==0) then v12(v51,v8("\43\26\144\207\164\63","\202\88\110\226\166"),v8("\211\3\131\238\207\209\33\131\250\207","\170\163\111\226\151"),v8("\55\57\188\60\124\50\62\16\34\182\43\108\46\14\24\38\183\42","\73\113\80\210\88\46\87"));return v50:FindByQuery(function(v71) if ((4825<4843) and v71.givers) then for v79,v80 in ipairs(v71.givers) do if ((v80==v51) or (3877>=4537)) then return true;end end end end);end end end;v10.QuestRewards.SaveQuestRewards=function(v53,v54,v55) local v56=0;local v57;while true do if (v56==0) then if ( not v54.rewards or (4315<1726)) then return;end v57={};v56=1;end if (v56==1) then if (v54.rewards.items or (3679<625)) then if (v54.rewards.choice or (4625<632)) then if (v54.rewards.selectedIndex or (83>1780)) then local v84=0;local v85;while true do if (0==v84) then v85=v54.rewards.items[v54.rewards.selectedIndex];if ((546<=1077) and v85) then v57[ #v57 + (1 -0) ]=v19(v54,v85.itemId,v85.quantity);end break;end end else end else for v81,v82 in ipairs(v54.rewards.items) do v57[ #v57 + (2 -1) ]=v19(v54,v82.itemId,v82.quantity);end end end if ((v54.rewards.money and (v54.rewards.money>(1413 -(447 + 966)))) or (996>4301)) then v57[ #v57 + (2 -1) ]=v20(v54,v54.rewards.money);end v56=2;end if (v56==2) then for v72,v73 in ipairs(v57) do v21(v53,v73,v55);end break;end end end;v10.QuestRewards.GetRewardName=function(v58,v59) local v60=0;local v61;while true do if (v60==1) then return v61;end if (v60==0) then v61=v8("\222\115\146","\135\225\76\173\114");if ((4070>687) and v59.itemId) then local v77=0;while true do if (1==v77) then if ((v59.itemQuantity and (v59.itemQuantity>(1817 -(1703 + 114)))) or (3637>=3770)) then v61=string.format(v8("\232\212\8\176\61\229","\150\205\189\112\144\24"),v59.itemQuantity,v61);end break;end if (v77==0) then v61=v59.itemLink or v59.itemName ;if ( not v61 or (656>=3330)) then local v90=0;local v91;while true do if (v90==1) then if ((4322>=2562) and  not v61) then v61=string.format(v8("\82\196\172\181\161\253\228\95\228\241","\199\122\141\216\208\204\221"),v59.itemId);end break;end if (v90==0) then v91=v10:LookupItem(v59.itemId);if (v91 or (2492<=335)) then v61=v91.link or v91.name ;end v90=1;end end end v77=1;end end elseif (v59.money or (2379>4578)) then v61=v11(v59.money);end v60=1;end end end;v10.AppEvents:Subscribe(v8("\20\145\186\95\16\171\30\29\53\136\186\88\1\140","\112\69\228\223\44\100\232\113"),function(v62) v10.QuestRewards:SaveQuestRewards(v62);end);v10.AppEvents:Subscribe(v8("\228\19\6\202\179\110\178\198\30\3\214\178","\230\180\127\103\179\214\28"),function(v63) local v64=0;local v65;while true do if (v64==0) then if ( not v63.targetName or (483>743)) then return;end v65=v10.QuestRewards:FindRewardsByGiver(v63.targetName);v64=1;end if (v64==1) then if ((2454>578) and ( #v65==(701 -(376 + 325)))) then return;end for v74,v75 in ipairs(v65) do if ((930<4458) and v22(v75,v63)) then local v78=0;while true do if (v78==0) then v75.status=v15.Traded;v10.QuestRewards:Save(v75);break;end end end end break;end end end);