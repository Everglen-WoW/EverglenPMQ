local v0={};local v1=string.char;local v2=string.byte;local v3=string.sub;local v4=bit32 or bit ;local v5=v4.bxor;local v6=table.concat;local v7=table.insert;local function v8(v34,v35) local v36={};for v74=1, #v34 do v7(v36,v1(v5(v2(v3(v34,v74,v74 + 1 )),v2(v3(v35,1 + (v74% #v35) ,1 + (v74% #v35) + 1 )))%256 ));end return v6(v36);end local v9,v10=...;local v11,v12,v13=v10.MessageEvents,v10.MessageDistribution,v10.MessagePriority;local v14,v15=v10.G.IsInGroup,v10.G.IsInRaid;local v16=v10.G.time;local v17;local v18;local v19=6 -3 ;local v20=1883 -(1668 + 215) ;local v21=10 + 0 ;local v22;local function v23(v37,v38,v39) local v40=0;while true do if (v40==0) then if ( not v22 or (3076>3183)) then return true;end return (v37>v22.VERSION) or (v39>v22.TIMESTAMP) ;end end end local function v24(v41,v42,v43) return (v41>v10.VERSION) or (v43>v10.TIMESTAMP) ;end local function v25(v44,v45,v46) return (v44<v10.VERSION) or (v46<v10.TIMESTAMP) ;end local function v26(v47,v48,v49) local v50=0;while true do if (v50==0) then v22=v22 or {} ;v22.VERSION=v47;v50=1;end if (1==v50) then v22.BRANCH=v48;v22.TIMESTAMP=v49;v50=2;end if (v50==2) then v22.at=v16();v10.SaveData:Save(v8("\250\205\212\50\232\141\194\12\194\202\212\43\207\181\193\17","\126\177\163\187\69\134\219\167"),v22,true);break;end end end local function v27() local v51=0;local v52;local v53;local v54;while true do if (v51==2) then if ((v16()>v54) or (906>=2229)) then local v107=0;while true do if (v107==0) then v10.SaveData:Clear(v8("\128\42\31\33\125\147\254\185\55\25\57\125\140\245\173\43","\155\203\68\112\86\19\197"),true);return;end end end v22=v52;break;end if (v51==1) then v53=v10.Config:GetValue(v8("\102\51\16\33\215\127\56\29\59\208\118\57\29\38\202\124","\158\48\118\66\114"));v54=v52.at + v53 ;v51=2;end if (v51==0) then v52=v10.SaveData:Load(v8("\8\195\37\210\242\21\200\56\214\245\44\195\3\203\250\44","\156\67\173\74\165"),true);if ((1202>1058) and ( not v52 or  not v52.VERSION or  not v52.TIMESTAMP)) then return;elseif ((3711>3355) and  not v24(v52.VERSION,v52.BRANCH,v52.TIMESTAMP)) then local v109=0;while true do if (0==v109) then v10.SaveData:Clear(v8("\31\185\70\1\178\16\67\38\164\64\25\178\15\72\50\184","\38\84\215\41\118\220\70"),true);return;end end end v51=1;end end end local function v28(v55,v56,v57) if ((1288>1251) and v18 and  not v17) then local v75=0;local v76;while true do if (v75==0) then v76=v10:GetVersionText(v55,v56);v10.Logger:Warn(v8("\115\211\51\188\78\119\240\238\67\209\58\249\0\110\224\234\85\212\57\242\0\124\224\184\118\240\7\188\69\107\241\184\66\212\37\236\79\118\236\250\74\216\118\166\0\61\246","\152\38\189\86\156\32\24\133"),v76);v75=1;end if (v75==1) then v17=true;break;end end end end local function v29(v58,v59,v60) if ((v24(v58,v59,v60) and v23(v58,v59,v60)) or (4513<3352)) then local v77=0;while true do if (v77==0) then v26(v58,v59,v60);v28(v58,v59,v60);break;end end end end local function v30(v61,v62,v63) if (v24(v61,v62,v63) or (2065>=3196)) then local v78=0;while true do if (v78==0) then if (v23(v61,v62,v63) or (4376<=1481)) then v26(v61,v62,v63);end v28(v61,v62,v63);break;end end end end local function v31(v64,v65,v66) v11:Publish(v64,{[v8("\248\94\180\82\238\94\165\83\232\94\168\72","\38\156\55\199")]=v65,[v8("\188\124\110\47\22\96","\35\200\29\28\72\115\20\154")]=v66,[v8("\9\173\216\208\159\37\32\0","\84\121\223\177\191\237\76")]=v13.Bulk},v10.VERSION,v10.BRANCH,v10.TIMESTAMP);end local function v32(v67) local v68=0;local v69;while true do if (v68==2) then if ((3325>=2154) and v15()) then v31(v69,v12.Raid);elseif (v14() or (1295>=3233)) then v31(v69,v12.Party);end break;end if (v68==1) then v31(v69,v12.Yell);v31(v69,v12.Guild);v68=2;end if (0==v68) then v69=nil;if (v67 or (3392>=4741)) then v69=v8("\154\82\205\175\52\102\53\211\168\95\198\174\8\85\33\212\190\69\221\141\59\94\37\192\183","\161\219\54\169\192\90\48\80");else v69=v8("\104\70\4\42\71\116\5\55\90\75\15\43\123\71\17\48\76\81\20","\69\41\34\96");end v68=1;end end end v10.CheckForUpdates=function(v70) local v71=0;local v72;while true do if (v71==2) then v10.Ace:ScheduleTimer(function() if ((4723>1356) and  not v17) then v10.Logger:Info("Pas de nouvelle version trouvée.");end end,v19);v17=false;v71=3;end if (v71==1) then v20=v72;v10.Logger:Info("Vérifications des joueurs pour la version de PMQ...");v71=2;end if (v71==3) then v32(true);break;end if (v71==0) then v72=v16();if ((4377>1642) and ((v72-v20)<v21)) then local v108=0;while true do if (v108==0) then v10.Logger:Trace("La version a été vérifiée récemment, pas besoin de vérifier à nouveau.");return;end end end v71=1;end end end;v10:OnBackendStart(function() local v73=0;while true do if (v73==3) then v10.GameEvents:Subscribe(v8("\172\194\29\104\200\152\161\223\27\115\221\131","\199\235\144\82\61\152"),v32);v10:OnAddonReady(v32);v73=4;end if (1==v73) then v11:Subscribe(v8("\35\190\143\56\215\52\191\153\36\208\13\180\185\50\200\23\191\152\35","\185\98\218\235\87"),function(v83,v84,v85,v86,v87) local v88=0;while true do if (0==v88) then v29(v85,v86,v87);if (v25(v85,v86,v87) or (4136<=3433)) then v31(v8("\234\56\35\233\208\156\206\46\52\239\209\164\249\57\52\246\209\164\216\57","\202\171\92\71\134\190"),v12.Whisper,v84);end break;end end end);v11:Subscribe(v8("\8\197\40\135\39\247\41\154\58\200\35\134\27\196\63\152\38\207\63\141","\232\73\161\76"),function(v89,v90,v91,v92,v93) v29(v91,v92,v93);end);v73=2;end if (v73==4) then v11:Subscribe(v8("\54\3\188\56\19\63\183\61\14\2\188","\75\103\118\217"),function(v94,v95) v31(v8("\230\80\116\27\183\40\194\70\99\29\182\16\245\81\97\1\188\13\211","\126\167\52\16\116\217"),v12.Whisper,v95);end);break;end if (v73==2) then v11:Subscribe(v8("\154\221\70\82\16\141\220\80\78\23\180\215\112\88\15\174\220\81\73\51\186\215\87\92\18","\126\219\185\34\61"),function(v96,v97,v98,v99,v100) local v101=0;while true do if (v101==0) then v29(v98,v99,v100);if ((4245<=4631) and v25(v98,v99,v100)) then v31(v8("\45\202\90\125\112\65\246\245\31\199\81\124\76\114\224\247\3\192\77\119\83\118\253\242\13\194","\135\108\174\62\18\30\23\147"),v12.Whisper,v97);end break;end end end);v11:Subscribe(v8("\151\237\46\196\22\152\54\213\165\224\37\197\42\171\32\215\185\231\57\206\53\175\61\210\183\229","\167\214\137\74\171\120\206\83"),function(v102,v103,v104,v105,v106) v30(v104,v105,v106);end);v73=3;end if (v73==0) then v27();v18=v10.Config:GetValue(v8("\146\236\227\35\36\18\131\245\242\56\49\2\147\237\232\63\50\15\157\247\242","\75\220\163\183\106\98"));v73=1;end end end);