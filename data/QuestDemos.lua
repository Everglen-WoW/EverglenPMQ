local v0={};local v1={};local v2=string.char;local v3=string.byte;local v4=string.sub;local v5=bit32 or bit ;local v6=v5.bxor;local v7=table.concat;local v8=table.insert;local function v9(v18,v19) local v20={};for v45=1, #v18 do v8(v20,v2(v6(v3(v4(v18,v45,v45 + 1 )),v3(v4(v19,1 + (v45% #v19) ,1 + (v45% #v19) + 1 )))%256 ));end return v7(v20);end local v10,v11=...;v11['QuestDemos']=v11:NewRepository(v9("\129\187\245\73\66\176\187\235\82","\19\197\222\152\38"),v9("\248\69\117\234\84\66","\86\156\32\24\133\29\38"));v11['QuestDemos']:SetTableSource(v11.DemoQuestDB);v11['QuestDemos']:EnableDirectRead(true);v11['QuestDemos'].CompileDemo=function(v21,v22) if ( not v22 or (3877>=4537)) then return false,v9("\163\128\78\167\84\120\23\181\128\82\189\116\111","\55\199\229\35\200\29\28");end v0[v9("\112\255\209\59\86\36","\115\20\154\188\84")]=v21:FindByID(v22);if ( not v0[v9("\213\218\128\35\196\239","\223\177\191\237\76\225")] or (4315<1726)) then return false,"Aucune démo trouvée avec l'ID : "   .. v22 ;end v0[v9("\91\204\180\59\84\49\175\87\140\240","\219\54\169\192\90\48\80")]={[v9("\72\87\20\45\70\80\50\32\72\78\13","\69\41\34\96")]="",[v9("\181\208\243\15\15\36","\75\220\163\183\106\98")]=true,[v9("\6\191\134\56\230\16\191\154\34\208\16\191\152","\185\98\218\235\87")]=v0[v9("\207\57\42\233\155\250","\202\171\92\71\134\190")]['requires'] or nil };return v11['QuestScriptCompiler']:TryCompile(v0[v9("\45\196\33\135\108\145","\232\73\161\76")].script,{[v9("\170\204\71\78\10\146\221","\126\219\185\34\61")]=v22,[v9("\1\203\74\115\122\118\231\230","\135\108\174\62\18\30\23\147")]=v0[v9("\187\236\62\202\28\175\39\198\243\185","\167\214\137\74\171\120\206\83")]});end;v11['QuestDemos'].CopyToDrafts=function(v25,v26,v27) assert(type(v26)==v9("\152\228\32\84\246\160","\199\235\144\82\61\152") ,v9("\3\19\180\36\46\18\249\57\2\7\172\34\20\86\169\36\18\4\249\39\6\86\186\36\23\31\188","\75\103\118\217"));v0[v9("\195\81\125\27\252\78","\126\167\52\16\116\217")]=v25:FindByID(v26);v0[v9("\204\60\33\134\160\92\172","\156\168\78\64\224\212\121")]=v11['QuestDrafts']:NewDraft();v0[v9("\3\252\164\200\19\171\245","\174\103\142\197")]['draftName']=v27 or v0[v9("\82\45\82\55\96\14","\152\54\72\63\88\69\62")]['demoName'] ;v0[v9("\208\214\239\90\192\129\190","\60\180\164\142")]['script']=v0[v9("\92\91\8\38\98\189","\114\56\62\101\73\71\141")]['script'];v0[v9("\188\251\218\194\172\172\139","\164\216\137\187")]['parameters']={[v9("\214\227\60\189\143\250","\107\178\134\81\210\198\158")]=v0[v9("\60\11\143\201\239\104","\202\88\110\226\166")]['demoId']};v11['QuestDrafts']:Save(v0["draft%0"]);return v0[v9("\199\29\131\241\222\134\95","\170\163\111\226\151")];end;v11['QuestDemos'].StartDemo=function(v34,v35) local v36=0;local v37;local v38;while true do if (v36==2) then if ( not v37 or (83>1780)) then local v50=0;while true do if (v50==0) then v11['Logger']:Error("Impossible de compiler la quête de démonstration : %s",v38);return;end end end v11['QuestInfoFrame']:ShowQuest(v38);break;end if (v36==1) then if ((v0[v9("\30\232\181\191\233\237","\199\122\141\216\208\204\221")]['requires'] and  not v34:HasCompleted(v0[v9("\169\216\29\255\61\166","\150\205\189\112\144\24")].requires)) or (4625<632)) then local v51=0;while true do if (v51==0) then v0[v9("\55\129\174\89\13\154\20\20\1\129\178\67\65\216","\112\69\228\223\44\100\232\113")]=v34:FindByID(v0[v9("\208\26\10\220\243\44","\230\180\127\103\179\214\28")].requires);v11['Logger']:Error("Vous devez terminer la quête de guilde '%s' avant de commencer celle-ci.",(v0[v9("\158\0\78\83\237\83\229\136\33\90\75\235\4\176","\128\236\101\63\38\132\33")] and v0[v9("\190\172\0\81\191\249\202\168\141\20\73\185\174\159","\175\204\201\113\36\214\139")]['demoName']) or v0[v9("\67\201\56\211\65\23","\100\39\172\85\188")]['requires'] );v51=1;end if (1==v51) then return;end end end v37,v38=v34:CompileDemo(v35);v36=2;end if (v36==0) then v0[v9("\21\53\191\55\11\103","\73\113\80\210\88\46\87")]=v34:FindByID(v35);if ( not v0[v9("\133\41\192\29\162\209","\135\225\76\173\114")] or (3679<625)) then local v52=0;while true do if (v52==0) then v11['Logger']:Error("Aucune quête de démonstration trouvée avec l’ID : %s",v35);return;end end end v36=1;end end end;v11['QuestDemos'].MarkDemoCompleted=function(v39,v40) local v41=0;while true do if (v41==1) then v11['SaveData']:Save(v9("\193\75\125\5\213\92\127\13\247\75\99\25","\106\133\46\16"),v0["progress%0"],false);break;end if (v41==0) then v0[v9("\189\106\182\135\33\168\107\170\197\99","\83\205\24\217\224")]=v11['SaveData']:LoadTable(v9("\194\192\192\50\214\215\194\58\244\192\222\46","\93\134\165\173"),false);v0[v9("\174\224\206\197\40\203\161\109\251\162","\30\222\146\161\162\90\174\210")][v40]=true;v41=1;end end end;v11['QuestDemos'].HasCompleted=function(v42,v43) local v44=0;while true do if (v44==0) then v0[v9("\72\50\124\251\72\69\75\51\54\172","\32\56\64\19\156\58")]=v11['SaveData']:LoadTable(v9("\126\205\232\89\106\224\143\93\218\224\69\73","\224\58\168\133\54\58\146"),false);return v0[v9("\73\68\68\250\103\131\148\24\28\6","\107\57\54\43\157\21\230\231")][v43]==true ;end end end;