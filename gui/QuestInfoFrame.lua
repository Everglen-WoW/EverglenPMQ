local v0={};local v1=string.char;local v2=string.byte;local v3=string.sub;local v4=bit32 or bit ;local v5=v4.bxor;local v6=table.concat;local v7=table.insert;local function v8(v24,v25) local v26={};for v83=1, #v24 do v7(v26,v1(v5(v2(v3(v24,v83,v83 + 1 )),v2(v3(v25,1 + (v83% #v25) ,1 + (v83% #v25) + 1 )))%256 ));end return v6(v26);end local v9,v10=...;if ((GetLocale()~=v8("\215\209\253\23","\126\177\163\187\69\134\219\167")) or (2232>2497)) then local v84=0;while true do if (0==v84) then v10.Logger:Error("Ce module ne fonctionne qu'avec un client de jeu en français (frFR).");return;end end end local v11=v10.G.CreateFrame;local v12=v10.QuestStatus;v10.QuestInfoFrame=nil;local v14={};local v15=0.5 -0 ;local v16={[v8("\46\194\60\196\254\47\200","\156\67\173\74\165")]=true,[v8("\49\164\74\23\172\39\68\56\178","\38\84\215\41\118\220\70")]=true,[v8("\64\25\49\27\234\89\25\44","\158\48\118\66\114")]={[v8("\187\117","\155\203\68\112\86\19\197")]=v8("\114\242\6\208\101\94\209","\152\38\189\86\156\32\24\133"),[v8("\236\5","\38\156\55\199")]=v8("\156\82\76\4\54\82\206","\35\200\29\28\72\115\20\154"),x=872 -(826 + 46) ,y= -(1051 -(245 + 702)),w=1213 -829 ,h=165 + 347 }};local v17={[v8("\56\188\210\218\157\56","\84\121\223\177\191\237\76")]={[v8("\175\83\209\180","\161\219\54\169\192\90\48\80")]=v8("\104\65\3\32\89\86\5\55","\69\41\34\96"),[v8("\171\202\211\30\10","\75\220\163\183\106\98")]=1975 -(260 + 1638) ,[v8("\18\181\135\59\240\4","\185\98\218\235\87")]=function(v27) return v10.QuestEngine:EvaluateRequirements(v27) and v27.start ;end,[v8("\206\50\38\228\210\175\226\58","\202\171\92\71\134\190")]=function(v28) return v10.QuestEngine:EvaluateRequirements(v28) and v10.QuestEngine:EvaluateStart(v28) ;end,[v8("\40\194\56\129\38\207","\232\73\161\76")]=function(v29) local v30=0;while true do if (0==v30) then if ((v29.metadata and v29.metadata.isDemo) or (2110<=332)) then local v112=0;local v113;while true do if (v112==0) then v113=v29.metadata.demo_requires;if ((3686>3172) and v113 and  not v10.QuestDemos:HasCompleted(v113)) then local v121=0;local v122;while true do if (v121==1) then return;end if (v121==0) then v122=v10.QuestDemos:FindByID(v113);v10.Logger:Error("Vous devez terminer la quête de guilde '%s' avant de commencer celle-ci.",(v122 and v122.demoName) or v113 );v121=1;end end end break;end end end v10:AcceptQuest(v29);break;end end end},[v8("\159\220\65\81\23\181\220","\126\219\185\34\61")]={[v8("\24\203\70\102","\135\108\174\62\18\30\23\147")]=v8("\132\236\44\222\11\171\33","\167\214\137\74\171\120\206\83"),[v8("\156\249\54\73\240","\199\235\144\82\61\152")]=518 -(382 + 58) ,[v8("\6\21\173\34\8\24","\75\103\118\217")]=function(v31) v10:DeclineQuest(v31);end},[v8("\228\91\125\4\181\27\211\81","\126\167\52\16\116\217")]={[v8("\220\43\56\148","\156\168\78\64\224\212\121")]=v8("\51\235\183\195\14\224\160\220","\174\103\142\197"),[v8("\65\33\91\44\45","\152\54\72\63\88\69\62")]=391 -269 ,[v8("\196\203\226\80\253\194","\60\180\164\142")]=function(v32) return v32.complete;end,[v8("\93\80\4\43\43\232\59\94","\114\56\62\101\73\71\141")]=function(v33) return v10.QuestEngine:EvaluateComplete(v33);end,[v8("\185\234\207\205\183\231","\164\216\137\187")]=function(v34) local v35=0;while true do if (0==v35) then if ((v34.rewards and v34.rewards.choice) or (4474<820)) then if ((4279>=2882) and (v34.rewards.selectedIndex==nil)) then local v117=0;while true do if (v117==0) then v10:ShowCustomMessage("Tu dois choisir une récompense avant de terminer la quête.",5 + 0 ,v8("\192\227\53","\107\178\134\81\210\198\158"));v10:PlaySound(v8("\9\27\135\213\190\25\12\131\200\174\55\0\135\194","\202\88\110\226\166"));v117=1;end if (v117==1) then return;end end end end v10:CompleteQuest(v34);break;end end end},[v8("\226\13\131\249\206\204\1","\170\163\111\226\151")]={[v8("\5\53\170\44","\73\113\80\210\88\46\87")]=v8("\160\46\204\28\227\142\34\195\23\245","\135\225\76\173\114"),[v8("\13\228\188\164\164","\199\122\141\216\208\204\221")]=251 -129 ,[v8("\172\222\4\249\119\248","\150\205\189\112\144\24")]=function(v36) v10:AbandonQuest(v36);end},[v8("\22\140\190\94\1","\112\69\228\223\44\100\232\113")]={[v8("\192\26\31\199","\230\180\127\103\179\214\28")]="Partager la quête",[v8("\155\12\91\82\236","\128\236\101\63\38\132\33")]=362 -240 ,[v8("\173\170\5\77\185\229","\175\204\201\113\36\214\139")]=function(v37) v10:ShareQuest(v37);end},[v8("\117\201\38\200\5\85\216","\100\39\172\85\188")]={[v8("\185\125\161\148","\83\205\24\217\224")]="Redémarrer la quête",[v8("\241\204\201\41\238","\93\134\165\173")]=1327 -(902 + 303) ,[v8("\191\241\213\203\53\192","\30\222\146\161\162\90\174\210")]=function(v38) v10:RestartQuest(v38);end},[v8("\192\67\96\30\252","\106\133\46\16")]={[v8("\76\37\107\232","\32\56\64\19\156\58")]="",[v8("\77\193\225\66\82","\224\58\168\133\54\58\146")]=170 -92 ,[v8("\92\88\74\255\121\131\174\13","\107\57\54\43\157\21\230\231")]=function() return false;end,[v8("\218\136\5\252\182\210","\175\187\235\113\149\217\188")]=function() end}};local v18={[v8("\56\170\135\77\246\117\108","\24\92\207\225\44\131\25")]=v8("\101\214\175\125\14\120\88\199","\29\43\179\216\44\123"),[v12.Active]=v8("\156\218\52\69\171\220\17\89\184\202\52","\44\221\185\64"),[v12.Failed]=v8("\53\226\90\82\122\15\230\92\90\119\48\242\77\76\103","\19\97\135\40\63"),[v12.Abandoned]=v8("\154\89\33\54\38\63\175\72\54\63\30\36\171\79\39","\81\206\60\83\91\79"),[v12.Finished]=v8("\104\162\222\123\60\203\72\160\127\190\213\97\59","\196\46\203\176\18\79\163\45"),[v12.Completed]=v8("\140\39\108\19\45\245\238\172\39\122\47\49\254\252\172","\143\216\66\30\126\68\155")};local function v19(v39,v40,v41) local v42=0;while true do if (v42==3) then if ((1720<4458) and v41) then local v114=0;while true do if (v114==0) then if (v40.enableIf or (436>3021)) then v39:SetEnabled(v40.enableIf(v41));end if ((713<=847) and v40.pollIf and v40.pollIf(v41)) then local v123=0;while true do if (v123==0) then v39._pollTimerId=v10.Ace:ScheduleRepeatingTimer(function() v39:SetEnabled(v40.enableIf(v41));end,v15);v14[v39._pollTimerId]=true;break;end end end break;end end end v39:Show();break;end if (v42==1) then if (v39._pollTimerId or (2029>=3521)) then local v115=0;while true do if (v115==1) then v39._pollTimerId=nil;break;end if (v115==0) then v10.Ace:CancelTimer(v39._pollTimerId);v14[v39._pollTimerId]=nil;v115=1;end end end if ( not v40 or (2037>=4642)) then return;end v39._action=v40.action;v42=2;end if (2==v42) then v39:SetText(v40.text);v39:SetWidth(v40.width);v39:SetEnabled(true);v42=3;end if (v42==0) then v39._action=nil;v39:SetText("");v39:Hide();v42=1;end end end local v20;v20={[v8("\132\205\26\250\208\166\196\245","\129\202\168\109\171\165\195\183")]={[v8("\54\81\35\212\219","\134\66\56\87\184\190\116")]="[EverglenPMQ] Information sur la quête",[v8("\48\48\16\180\12\255","\85\92\81\105\219\121\139\65")]=v8("\211\182\71\116\105\218\238\167","\191\157\211\48\37\28"),[v8("\204\16\225\18\62","\90\191\127\148\124")]=v8("\90\136\33\28\79\149\39\3\125","\119\24\231\78"),[v8("\142\40\163\94\254\85\5\150\34\171","\113\226\77\197\42\188\32")]=v17.Accept,[v8("\40\31\243\189\46\52\225\161\46\25\250","\213\90\118\148")]=v17.Decline,[v8("\89\59\167\79","\45\59\78\212\54")]=function(v43,v44) local v45=0;local v46;while true do if (0==v45) then v46=v44.metadata.giverName;if ((2154<=4031) and v46) then v10.Logger:Warn("%s vous a invité pour faire une quête. Vous pouvez la consulter dans votre Catalogue de quête.",v46);else v10.Logger:Warn(v8("\51\90\140\152\131\110\185\248\25\69\195\156\143\32\169\255\7\22\129\142\128\33\191\245\80\66\145\146\143\32\170\176\4\89\195\157\143\43\186\176\17\88\140\159\142\43\191\176\1\67\134\152\146\96","\144\112\54\227\235\230\78\205"));end break;end end end},[v8("\149\33\1\245\195\83\182\44\62\233\213\72\167","\59\211\72\111\156\176")]={[v8("\90\142\247\33\75","\77\46\231\131")]="[EverglenPMQ] Fin de quête",[v8("\182\85\175\79\175\64","\32\218\52\214")]=v8("\104\30\63\161\226\184\64\94\127\2\52\187\229","\58\46\119\81\200\145\208\37"),[v8("\39\137\54\184\139\168\34\63\131\62","\86\75\236\80\204\201\221")]=v17.Empty,[v8("\96\72\112\141\234\169\103\85\99\138\240","\235\18\33\23\229\158")]=v17.Complete,[v8("\82\175\210\162","\219\48\218\161")]=function(v47,v48) end},[v8("\197\114\104\64\205\74\209\241\116\111\93","\128\132\17\28\41\187\47")]={[v8("\21\59\18\54\88","\61\97\82\102\90")]="[EverglenPMQ] Information sur la quête",[v8("\160\47\178\68\210\67","\105\204\78\203\43\167\55\126")]=v8("\132\169\55\23\5\1\246\68\160\185\55","\49\197\202\67\126\115\100\167"),[v8("\59\94\217\61\162\67\74\35\84\209","\62\87\59\191\73\224\54")]=v17.Share,[v8("\245\11\253\193\243\32\239\221\243\13\244","\169\135\98\154")]=v17.Abandon,[v8("\201\98\55\77","\168\171\23\68\52\157\83")]=function(v49,v50) end},[v8("\192\116\231\160\44\35\134\224\116\241\156\48\40\148\224","\231\148\17\149\205\69\77")]={[v8("\148\174\211\247\82","\159\224\199\167\155\55")]="[EverglenPMQ] Information sur la quête",[v8("\251\242\37\221\226\231","\178\151\147\92")]=v8("\162\248\91\3\7\73\105\152","\26\236\157\44\82\114\44"),[v8("\38\43\211\79\8\59\193\79\37\32","\59\74\78\181")]=v17.Share,[v8("\55\216\93\82\167\7\196\78\78\188\43","\211\69\177\58\58")]=v17.Restart,[v8("\181\240\106\236","\171\215\133\25\149\137")]=function(v51,v52) end},[v8("\215\205\32\243\233\57\255\67\245\193\61\244\204\56\249\65\234","\34\129\168\82\154\143\80\156")]={[v8("\145\187\39\7\77","\233\229\210\83\107\40\46")]="[EverglenPMQ] Vérification de la quête",[v8("\205\67\43\217\16\213","\101\161\34\82\182")]=v8("\222\8\75\247\221\235\129\47\252\4\86\240\248\234\135\45\227","\78\136\109\57\158\187\130\226"),[v8("\50\58\255\229\28\42\237\229\49\49","\145\94\95\153")]=v17.Share,[v8("\239\196\19\221\90\149\232\217\0\218\64","\215\157\173\116\181\46")]=v17.Empty,[v8("\55\161\152\235","\186\85\212\235\146")]=function(v53,v54) end}};local v21={[v8("\241\137\25\233\8\251\93\209\149","\56\162\225\118\158\89\142")]=function(v55,v56,v57) v10:catch(function() local v85=0;local v86;local v87;while true do if (v85==2) then v55._quest=v56;v55._shown=true;if (v86.sound or (3790==500)) then v10:PlaySound(v86.sound);end break;end if (0==v85) then v86=v20[v57 or v18[v56.status or v8("\88\0\198\174\55\212\72","\184\60\101\160\207\66") ] ];if ((4615==4615) and v55._shown and v86.busy) then local v116=0;while true do if (v116==0) then v86.busy(v55,v56);return;end end end v55:ClearContent();v87=v86.title or "" ;v85=1;end if (v85==1) then v55.titleFontString:SetText(v87);v55.questContent:SetQuestContent(v56,v86.layout);v19(v55.leftButton,v86.leftButton,v56);v19(v55.rightButton,v86.rightButton,v56);v85=2;end end end);end,[v8("\24\145\79\180\62\149\117\178\54\179\105\185\34\150","\220\81\226\28")]=function(v58,v59) return v58._shown and v58._quest and (v58._quest.questId==v59.questId) and true ;end,[v8("\48\217\135\250\248\228\28\219\150\254\228\211","\167\115\181\226\155\138")]=function(v60) v60.titleFontString:SetText("");end,[v8("\208\39\225\78\126\98\206\207\45\227\89","\166\130\66\135\60\27\17")]=function(v61) local v62=0;local v63;while true do if (v62==1) then v61:ShowQuest(v63);break;end if (v62==0) then v63=v61._quest;v61:Hide();v62=1;end end end};local v22={[v8("\107\68\253\125\63\83","\80\36\42\174\21")]=function(v64) local v65=0;while true do if (v65==0) then v64._shown=true;v64.scrollFrame:SetVerticalScroll(0 -0 );v65=1;end if (v65==1) then v10:PlaySound(v8("\108\31\56\113\97\0\50\116","\26\46\112\87"));break;end end end,[v8("\150\45\131\125\187\186","\212\217\67\203\20\223\223\37")]=function(v66) local v67=0;while true do if (v67==3) then v10:PlaySound(v8("\152\130\167\217\153\129\167\193\191","\178\218\237\200"));break;end if (v67==0) then v66._quest=nil;v66._shown=nil;v67=1;end if (v67==2) then for v105 in pairs(v14) do v10.Ace:CancelTimer(v105);end v14={};v67=3;end if (v67==1) then v19(v66.leftButton);v19(v66.rightButton);v67=2;end end end};local function v23() local v68=0;local v69;local v70;local v71;local v72;local v73;local v74;local v75;local v76;local v77;local v78;local v79;while true do if (v68==6) then v79=v10.CustomWidgets:CreateWidget(v8("\239\178\192\206\103\210\82\0\202\162\203\201","\110\190\199\165\189\19\145\61"),v78);v79:SetAllPoints(true);v69.scrollFrame=v77;v69.titleFontString=v72;v69.leftButton=v76;v69.rightButton=v75;v68=7;end if (v68==0) then v69=v10.CustomWidgets:CreateWidget(v8("\134\186\246\223\163\161\192\194\183\184\227","\176\214\213\134"),v8("\197\184\179\199\188\127\87\242\162\144\198\169\91\92","\57\148\205\214\180\200\54"),v16);v69:SetHitRectInsets(0 + 0 ,1720 -(1121 + 569) ,214 -(22 + 192) ,753 -(483 + 200) );for v106,v107 in pairs(v22) do v69:SetScript(v106,v107);end v70=v69:CreateTexture(nil,v8("\51\207\1\3\89\32\214","\22\114\157\85\84"));v70:SetSize(1523 -(1404 + 59) ,164 -104 );v70:SetPoint(v8("\240\228\35\232\120\208\156","\200\164\171\115\164\61\150"),v69,v8("\138\219\51\105\166\152\192","\227\222\148\99\37"),9 -2 , -(771 -(468 + 297)));v68=1;end if (v68==5) then v77=v11(v8("\99\162\231\44\72\34\118\179\244\46\65","\78\48\193\149\67\36"),nil,v74,v8("\1\11\133\11\85\3\29\146\23\77\60\56\146\25\76\53\42\133\21\81\60\31\148\29","\33\80\126\224\120"));v77:SetPoint(v8("\216\135\51\232\121\202\156","\60\140\200\99\164"),v74,v8("\179\219\52\10\135\161\192","\194\231\148\100\70"),11 + 11 , -(137 -55));v78=v11(v8("\96\94\192\174\243","\168\38\44\161\195\150"),nil,v77);v78:SetSize(1065 -(574 + 191) ,276 + 58 );v78:SetPoint(v8("\180\211\178\90\21\206\130","\118\224\156\226\22\80\136\214"),v74,v8("\118\193\105\172\103\200\109","\224\34\142\57"));v77:SetScrollChild(v78);v68=6;end if (v68==2) then v72:SetSize(67 + 168 ,256 -(141 + 95) );v72:SetPoint(v8("\167\228\46\141\26\3","\168\228\161\96\217\95\81"),v71,v8("\248\244\0\104\10\101","\55\187\177\78\60\79"));v73=v11(v8("\15\219\75\255\73\193","\224\77\174\63\139\38\175"),nil,v69,v8("\177\104\104\47\138\68\84\13\136\78\75\43\166\84\76\58\139\79","\78\228\33\56"));v73:SetPoint(v8("\237\91\156\55\160\252","\229\174\30\210\99"),v69,v8("\47\194\182\99\196\26\17\47","\89\123\141\230\49\141\93"), -(42 + 0), -(79 -48));v74=v11(v8("\213\99\247\1\21","\42\147\17\150\108\112"),nil,v69,v8("\62\179\40\108\243\206\29\167\32\122\215\233\1\163\33\75\226\229\31\170\44\107\226","\136\111\198\77\31\135"));v74:SetScript(v8("\45\7\148\94\178\243","\201\98\105\199\54\221\132\119"),function() end);v68=3;end if (v68==7) then v69.questContent=v79;for v108,v109 in pairs(v21) do v69[v108]=v109;end return v69;end if (v68==1) then v70:SetTexture("Interface\\QuestFrame\\UI-QuestLog-BookIcon");v71=v11(v8("\21\64\83\251\252","\153\83\50\50\150"),nil,v69);v71:SetSize(862 -(334 + 228) ,47 -33 );v71:SetPoint(v8("\105\89\67","\45\61\22\19\124\19\203"),v69,v8("\245\61\61","\217\161\114\109\149\98\16"),0 -0 , -(41 -18));v71:SetScript(v8("\61\46\20\115\189\112","\20\114\64\88\28\220"),function() end);v72=v71:CreateFontString(nil,v8("\19\32\241\159\223\226\146\4\47\246","\221\81\97\178\212\152\176"),v8("\234\230\16\254\60\194\233\9\211\19\202\239\17\242\29\197\243","\122\173\135\125\155"));v68=2;end if (v68==3) then v74:SetScript(v8("\150\2\171\40\6\48","\204\217\108\227\65\98\85"),function() end);v74:SetScript(v8("\113\205\192\245\40\193\74\198","\160\62\163\149\133\76"),function() end);v75=v11(v8("\244\181\25\59\204\216","\163\182\192\109\79"),nil,v74,v8("\1\15\48\193\251\49\42\34\213\225\32\41\14\244\240\57\54\12\193\225\49","\149\84\70\96\160"));v75:SetText(v8("\10\47\42\197\12\57\47\217\22","\141\88\102\109"));v75:SetSize(2 -1 ,6 + 16 );v75:SetPoint(v8("\145\124\254\68\53\16\103\232\148\123\254","\161\211\51\170\16\122\93\53"),v69,v8("\217\129\134\28\212\131\128\1\220\134\134","\72\155\206\210"), -(106 -67),51 + 21 );v68=4;end if (v68==4) then v75:SetScript(v8("\105\116\119\2\58\69\113","\83\38\26\52\110"),function() if ((89<221) and v75._action) then v10:catch(function() v75._action(v69._quest);end);else v10.UILogger:Warn(v8("\118\24\103\71\91\3\46\73\86\87\38\85\75\30\32\72\93\19\103\82\87\87\54\83\93\4\51\96\74\22\42\67\106\30\32\78\76\53\50\82\76\24\41","\38\56\119\71"));end end);v76=v11(v8("\209\250\76\194\42\88","\54\147\143\56\182\69"),nil,v74,v8("\227\168\207\72\209\211\141\221\92\203\194\142\241\125\218\219\145\243\72\203\211","\191\182\225\159\41"));v76:SetText(v8("\7\55\14\97\180\165\246\5","\162\75\114\72\53\235\231"));v76:SetSize(1 + 0 ,30 -8 );v76:SetPoint(v8("\174\19\112\214\124\47\160\25\98\214","\98\236\92\36\130\51"),v69,v8("\134\54\56\142\106\133\153\21\130\45","\80\196\121\108\218\37\200\213"),14 + 9 ,235 -(92 + 71) );v76:SetScript(v8("\47\125\33\115\66\13\129","\234\96\19\98\31\43\110"),function() if ((2054>=1421) and v76._action) then v10:catch(function() v76._action(v69._quest);end);else v10.UILogger:Warn(v8("\40\16\18\198\175\102\130\9\17\18\198\191\97\130\1\17\87\195\236\102\132\70\14\71\194\191\102\173\20\30\95\194\128\119\141\18\61\71\211\184\125\133","\235\102\127\50\167\204\18"));end end);v68=5;end end end v10:OnGuiStart(function() local v80=0;local v81;while true do if (v80==0) then v10.QuestInfoFrame=v23();v81=nil;v80=1;end if (1==v80) then function v81(v111) if ((692<3058) and v10.QuestInfoFrame:IsShowingQuest(v111)) then v10.QuestInfoFrame:Hide();end end v10.AppEvents:Subscribe(v8("\235\254\114\251\159\244\206\234\101\252\142\195","\167\186\139\23\136\235"),v81);v80=2;end if (v80==3) then v10.AppEvents:Subscribe(v8("\50\211\114\95\23\229\120\65\19\202\114\88\6\194","\44\99\166\23"),v81);break;end if (v80==2) then v10.AppEvents:Subscribe(v8("\43\160\141\30\14\148\138\12\20\177\135\3\31\177","\109\122\213\232"),v81);v10.AppEvents:Subscribe(v8("\223\226\167\35\250\211\167\51\226\254\172\53\234","\80\142\151\194"),v81);v80=3;end end end);v10.AppEvents:Subscribe(v8("\77\226\44\37\39\135\115\249\61\51\61\176\78\242\40\50\42","\196\28\151\73\86\83"),function(v82) v10.QuestInfoFrame:Show();end);