local v0={};local v1=string.char;local v2=string.byte;local v3=string.sub;local v4=bit32 or bit ;local v5=v4.bxor;local v6=table.concat;local v7=table.insert;local function v8(v15,v16) local v17={};for v30=1, #v15 do v7(v17,v1(v5(v2(v3(v15,v30,v30 + 1 )),v2(v3(v16,1 + (v30% #v16) ,1 + (v30% #v16) + 1 )))%256 ));end return v6(v17);end local v9,v10=...;v10.QuestLog=v10:NewRepository(v8("\224\214\222\54\242","\126\177\163\187\69\134\219\167"),v8("\50\216\47\214\232\10\201","\156\67\173\74\165"));local v12=v10.QuestLog;v12:SetSaveDataSource(v8("\5\162\76\5\168\10\73\51","\38\84\215\41\118\220\70"));v12:EnableWrite(true);v12:EnableCompression(true);v12:EnableTimestamps(true);v12.SaveWithStatus=function(v18,v19,v20) local v21=0;local v22;while true do if (v21==1) then v22=nil;if ((type(v19)==v8("\188\124\126\36\22","\35\200\29\28\72\115\20\154")) or (3325>4613)) then v22=v19;else local v36=0;while true do if (v36==0) then v22=v18:FindByID(v19);assert(v22,v8("\63\190\216\211\136\40\116\13\176\145\236\140\58\49\46\182\197\215\190\56\53\13\170\194\133\205\34\59\89\174\196\218\158\56\116\28\167\216\204\153\63\116\14\182\197\215\205\37\48\89","\84\121\223\177\191\237\76")   .. v19 );break;end end end v21=2;end if (v21==0) then assert((type(v19)==v8("\68\23\32\30\251","\158\48\118\66\114")) or (type(v19)==v8("\184\48\2\63\125\162","\155\203\68\112\86\19\197")) ,v8("\96\220\63\240\69\124\165\236\73\157\5\253\86\125\210\241\82\213\5\232\65\108\240\235\28\157\39\233\69\107\241\184\73\207\118\237\85\125\246\236\111\217\118\253\82\125\165\234\67\204\35\245\82\125\225","\152\38\189\86\156\32\24\133"));assert(v20~=nil ,v8("\218\86\174\74\249\83\231\82\243\23\148\71\234\82\144\79\232\95\148\82\253\67\178\85\166\23\180\82\253\67\178\85\188\94\180\6\238\82\182\83\245\69\162\66","\38\156\55\199"));v21=1;end if (v21==3) then v18:Save(v22);break;end if (v21==2) then assert(v10:IsValidQuestStatusChange(v22.status,v20));v22.status=v20;v21=3;end end end;v12.Validate=function(v23,v24) v10:ValidateQuestStatusChange(v24);end;v10.AppEvents:Subscribe(v8("\148\84\195\165\57\68\57\215\190\99\217\164\59\68\53\197","\161\219\54\169\192\90\48\80"),function(v25) local v26=0;local v27;local v28;local v29;while true do if (v26==1) then for v34,v35 in ipairs(v27.objectives) do if ((3273==3273) and (v35.id==v25.id)) then v28=v35;break;end end if ((3824>409) and  not v28) then local v37=0;while true do if (v37==0) then v10.Logger:Warn('Unable to update quest objective: no objective on quest \"%s\" with id %s',v27.name,v25.id);return;end end end v28.progress=v25.progress;v26=2;end if (v26==2) then v29=nil;if ((2087==2087) and (v25.progress>=v25.goal)) then local v38=0;while true do if (v38==0) then v29=true;for v43,v44 in pairs(v27.objectives) do if ((v44.progress<v44.goal) or (3404>4503)) then v29=false;break;end end break;end end end if (v29 or (3506<=1309)) then v27.status=v10.QuestStatus.Finished;end v26=3;end if (v26==3) then v12:Save(v27);if ((2955==2955) and v29) then v10.QuestEngine:StopTracking(v27);end break;end if (v26==0) then v27=v12:FindByID(v25.questId);if ( not v27 or (4950<=4553)) then local v41=0;while true do if (v41==0) then v10.Logger:Warn(v8("\124\76\1\39\69\71\64\49\70\2\21\53\77\67\20\32\9\83\21\32\90\86\64\42\75\72\5\38\93\75\22\32\19\2\14\42\9\83\21\32\90\86\64\39\80\2\9\33\9\7\19","\69\41\34\96"),v25.questId);return;end end elseif ((2665<=3933) and (v27.status~=v10.QuestStatus.Active)) then local v42=0;while true do if (v42==0) then v10.Logger:Warn('Unable to update quest objective: quest \"%s\" is not Active (%s)',v27.name,v27.status);return;end end end v28=nil;v26=1;end end end);