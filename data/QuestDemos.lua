local v0={};local v1={};local v2=string.char;local v3=string.byte;local v4=string.sub;local v5=bit32 or bit ;local v6=v5.bxor;local v7=table.concat;local v8=table.insert;local function v9(v18,v19) local v20={};for v46=1, #v18 do v8(v20,v2(v6(v3(v4(v18,v46,v46 + 1 )),v3(v4(v19,1 + (v46% #v19) ,1 + (v46% #v19) + 1 )))%256 ));end return v7(v20);end local v10,v11=...;v11['QuestDemos']=v11:NewRepository(v9("\245\198\214\42\215\174\194\13\197","\126\177\163\187\69\134\219\167"),v9("\39\200\39\202\213\39","\156\67\173\74\165"));v11['QuestDemos']:SetTableSource(v11.DemoQuestDB);v11['QuestDemos']:EnableDirectRead(true);v11['QuestDemos'].CompileDemo=function(v21,v22) v0["FlatIdent_28F1%0"]=0 -0 ;v0["demo%0"]=nil;v0["metadata%0"]=nil;while true do if ((440 -(145 + 293))~=v0["FlatIdent_28F1%0"]) then else return v11['QuestScriptCompiler']:TryCompile(v0["demo%0"].script,{[v9("\237\66\162\85\232\126\163","\38\156\55\199")]=v22,[v9("\165\120\104\41\23\117\238\66","\35\200\29\28\72\115\20\154")]=v0["metadata%0"]});end if ((430 -(44 + 386))~=v0["FlatIdent_28F1%0"]) then else if  not v22 then return false,v9("\48\178\68\25\149\34\6\38\178\88\3\181\53","\38\84\215\41\118\220\70");end v0["demo%0"]=v21:FindByID(v22);v0["FlatIdent_28F1%0"]=1487 -(998 + 488) ;end if (1==v0["FlatIdent_28F1%0"]) then if  not v0["demo%0"] then return false,"Aucune démo trouvée avec l'ID : "   .. v22 ;end v0["metadata%0"]={[v9("\81\3\54\26\241\66\36\39\19\242\93","\158\48\118\66\114")]="",[v9("\162\55\52\51\126\170","\155\203\68\112\86\19\197")]=true,[v9("\66\216\59\243\127\106\224\233\83\212\36\249\83","\152\38\189\86\156\32\24\133")]=v0["demo%0"]['requires'] or nil };v0["FlatIdent_28F1%0"]=1 + 1 ;end end end;v11['QuestDemos'].CopyToDrafts=function(v26,v27,v28) v0["FlatIdent_49280%0"]=0 + 0 ;v0["demo%0"]=nil;v0["draft%0"]=nil;while true do if (v0["FlatIdent_49280%0"]~=1) then else v0["draft%0"]=v11['QuestDrafts']:NewDraft();v0["draft%0"]['draftName']=v28 or v0["demo%0"]['demoName'] ;v0["FlatIdent_49280%0"]=2;end if (v0["FlatIdent_49280%0"]==(775 -(201 + 571))) then v11['QuestDrafts']:Save(v0["draft%0"]);return v0["draft%0"];end if (v0["FlatIdent_49280%0"]==(1138 -(116 + 1022))) then assert(type(v27)==v9("\10\171\195\214\131\43","\84\121\223\177\191\237\76") ,v9("\191\83\196\175\19\84\112\211\190\71\220\169\41\16\32\206\174\68\137\172\59\16\51\206\171\95\204","\161\219\54\169\192\90\48\80"));v0["demo%0"]=v26:FindByID(v27);v0["FlatIdent_49280%0"]=4 -3 ;end if (v0["FlatIdent_49280%0"]==2) then v0["draft%0"]['script']=v0["demo%0"]['script'];v0["draft%0"]['parameters']={[v9("\77\71\13\42\96\70","\69\41\34\96")]=v0["demo%0"]['demoId']};v0["FlatIdent_49280%0"]=2 + 1 ;end end end;v11['QuestDemos'].StartDemo=function(v32,v33) v0["FlatIdent_47ABB%0"]=0 -0 ;v0["demo%0"]=nil;v0["ok%0"]=nil;v0["quest%0"]=nil;while true do if (v0["FlatIdent_47ABB%0"]==(0 -0)) then v0["demo%0"]=v32:FindByID(v33);if  not v0["demo%0"] then v11['Logger']:Error("Aucune quête de démonstration trouvée avec l’ID : %s",v33);return;end v0["FlatIdent_47ABB%0"]=1;end if ((861 -(814 + 45))~=v0["FlatIdent_47ABB%0"]) then else if  not v0["ok%0"] then v11['Logger']:Error("Impossible de compiler la quête de démonstration : %s",v0["quest%0"]);return;end v11['QuestInfoFrame']:ShowQuest(v0["quest%0"]);break;end if (v0["FlatIdent_47ABB%0"]==1) then if (v0["demo%0"]['requires'] and  not v32:HasCompleted(v0["demo%0"].requires)) then v0["requiredDemo%0"]=v32:FindByID(v0["demo%0"].requires);v11['Logger']:Error("Vous devez terminer la quête de guilde '%s' avant de commencer celle-ci.",(v0["requiredDemo%0"] and v0["requiredDemo%0"]['demoName']) or v0["demo%0"]['requires'] );return;end v0["ok%0"],v0["quest%0"]=v32:CompileDemo(v33);v0["FlatIdent_47ABB%0"]=4 -2 ;end end end;v11['QuestDemos'].MarkDemoCompleted=function(v38,v39) v0["FlatIdent_61800%0"]=0 + 0 ;v0["progress%0"]=nil;while true do if (v0["FlatIdent_61800%0"]~=(0 + 0)) then else v0["progress%0"]=v11['SaveData']:LoadTable(v9("\152\198\218\5\50\57\179\196\197\15\17\56","\75\220\163\183\106\98"),false);v0["progress%0"][v39]=true;v0["FlatIdent_61800%0"]=886 -(261 + 624) ;end if (v0["FlatIdent_61800%0"]~=(1 -0)) then else v11['SaveData']:Save(v9("\38\191\134\56\233\16\181\140\37\220\17\169","\185\98\218\235\87"),v0["progress%0"],false);break;end end end;v11['QuestDemos'].HasCompleted=function(v42,v43) v0["FlatIdent_DFF4%0"]=1080 -(1020 + 60) ;v0["progress%0"]=nil;while true do if (v0["FlatIdent_DFF4%0"]~=0) then else v0["progress%0"]=v11['SaveData']:LoadTable(v9("\239\57\42\233\238\184\196\59\53\227\205\185","\202\171\92\71\134\190"),false);return v0["progress%0"][v43]==true ;end end end;