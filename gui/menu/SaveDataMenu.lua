local v0={};local v1=string.char;local v2=string.byte;local v3=string.sub;local v4=bit32 or bit ;local v5=v4.bxor;local v6=table.concat;local v7=table.insert;local function v8(v22,v23) local v24={};for v70=1, #v22 do v7(v24,v1(v5(v2(v3(v22,v70,v70 + 1 )),v2(v3(v23,1 + (v70% #v23) ,1 + (v70% #v23) + 1 )))%256 ));end return v6(v24);end local v9,v10=...;local v11=v10.G.CreateFrame;local v12=v10.MainMenu:NewMenuScreen(v8("\226\194\205\32\194\186\211\31\252\198\213\48","\126\177\163\187\69\134\219\167"));local v13={};local function v14() for v71,v72 in ipairs(v13) do v72();end end local function v15(v25,v26,v27,v28) local v29=0;local v30;while true do if (v29==0) then v30=v11(v8("\1\216\62\209\243\45","\156\67\173\74\165"),nil,v25,v8("\1\158\121\23\178\35\74\22\162\93\2\179\40\114\49\186\89\26\189\50\67","\38\84\215\41\118\220\70"));v30:SetText(v26);v29=1;end if (v29==2) then return v30;end if (v29==1) then v30:SetWidth(v27);v30:SetScript(v8("\127\24\1\30\247\83\29","\158\48\118\66\114"),v28);v29=2;end end end local function v16(v31,v32,v33) local v34=0;local v35;while true do if (v34==1) then if ((2495<4609) and v33) then v13[ #v13 + (1 -0) ]=function() v35:SetText(string.format(v32,v33()));end;end return v35;end if (v34==0) then v35=v31:CreateFontString(nil,v8("\137\5\51\29\84\151\212\158\10\52","\155\203\68\112\86\19\197"),v8("\97\220\59\249\102\119\235\236\104\210\36\241\65\116\214\245\71\209\58","\152\38\189\86\156\32\24\133"));v35:SetText(v32);v34=1;end end end local function v17(v36,v37,v38,v39) local v40=0;while true do if (v40==0) then v39=v39 or (11 -3) ;if ((1152==1152) and v38) then v36:SetPoint(v8("\200\120\151\106\217\113\147","\38\156\55\199"),v37,v8("\138\82\72\28\60\89\214\102\142\73","\35\200\29\28\72\115\20\154"),1784 -(599 + 1185) , -(1 + 0) * v39 );else v36:SetPoint(v8("\45\144\225\243\168\10\0","\84\121\223\177\191\237\76"),v37,v8("\143\121\249\146\19\119\24\245","\161\219\54\169\192\90\48\80"),v39,0 + 0 );end break;end end end local function v18(v41) local v42=0;local v43;while true do if (v42==1) then v10.Logger:Warn("Cache vidé : %s [%i entrées]",v41.name,v43);v14();break;end if (v42==0) then v43=v41:CountAll();v41:DeleteAll();v42=1;end end end local function v19() local v44=v10.PlayerDataCache:FindAll();local v45=v10:GetPlayerRealm();v10.Logger:Warn("=== Cache des données joueur (%i entrées) ===",v10.PlayerDataCache:CountAll());for v73,v74 in ipairs(v44) do local v75=0;local v76;local v77;local v78;local v79;local v80;local v81;while true do if (v75==2) then v80=(v74.RaceId and v10:GetRaceNameById(v74.RaceId)) or "" ;v81=(v74.ClassId and v10:GetClassNameById(v74.ClassId)) or "" ;v10.Logger:Info(v8("\66\5\227\107\66\5\249\5\14\0\188\42\18\86\252\56\71\83\170\107\66\5\249\110\20","\75\103\118\217"),v76,v77,v78,v79,v80,v81);break;end if (v75==1) then v77=v74.FactionId;if ((v77==v8("\42\181\153\51\220","\185\98\218\235\87")) or (877>4695)) then v77=v10:Colorize(v8("\217\57\35","\202\171\92\71\134\190"),v8("\18\233\17","\232\73\161\76"));elseif ((2691>=1851) and (v77==v8("\154\213\78\84\31\181\218\71","\126\219\185\34\61"))) then v77=v10:Colorize(v8("\15\215\95\124","\135\108\174\62\18\30\23\147"),v8("\141\200\23","\167\214\137\74\171\120\206\83"));else v77="";end v78=tostring(v74.Level) or v8("\212\175","\199\235\144\82\61\152") ;v79=(v74.SexId and v10:GetSexNameById(v74.SexId)) or "" ;v75=2;end if (v75==0) then v76=v74.Name;if ((1896<=3422) and v74.Realm and (v74.Realm~=v45)) then v76=v74.FullName;end if (v74.Guild or (990>1620)) then v76=v76   .. v8("\9\30","\69\41\34\96")   .. v74.Guild   .. ">" ;end v76=v10:Colorize(v8("\165\198\219\6\13\60","\75\220\163\183\106\98"),v76);v75=1;end end end end local function v20() local v46=0;local v47;while true do if (v46==0) then v47=v10.NpcDataCache:FindAll();v10.Logger:Warn("=== Cache des données PNJ (%i entrées) ===",v10.NpcDataCache:CountAll());v46=1;end if (v46==1) then for v86,v87 in ipairs(v47) do local v88=0;local v89;local v90;local v91;while true do if (v88==0) then v89=v10:Colorize(v8("\222\81\124\24\182\9","\126\167\52\16\116\217"),v87.Name);v90=v87.FactionId;v88=1;end if (v88==2) then if ((3232<=4690) and v87.LevelMin and v87.LevelMax and (v87.LevelMin~=v87.LevelMax)) then v91=string.format(v8("\151\239\124\247\175","\107\178\134\81\210\198\158"),v87.LevelMin,v87.LevelMax);elseif (v87.Level or (896>=3146)) then v91=tostring(v87.Level);else v91=v8("\103\81","\202\88\110\226\166");end v10.Logger:Info(v8("\134\28\216\183\143\208\79\172\254\220\198\14\151\183\143\208","\170\163\111\226\151"),v89,v90,v91);break;end if (v88==1) then if ((v90==v8("\224\33\50\132\177","\156\168\78\64\224\212\121")) or (2985>=4856)) then v90=v10:Colorize(v8("\21\235\161","\174\103\142\197"),v8("\109\0\98","\152\54\72\63\88\69\62"));elseif ((4276>=1195) and (v90==v8("\245\200\226\85\213\202\237\89","\60\180\164\142"))) then v90=v10:Colorize(v8("\91\71\4\39","\114\56\62\101\73\71\141"),v8("\131\200\230","\164\216\137\187"));else v90="";end v91=nil;v88=2;end end end break;end end end v12.Create=function(v48,v49) local v50=0;local v51;local v52;local v53;local v54;local v55;local v56;local v57;local v58;local v59;local v60;local v61;local v62;local v63;local v64;local v65;local v66;local v67;local v68;local v69;while true do if (v50==0) then v49:SetScript(v8("\62\62\129\48\65\32","\73\113\80\210\88\46\87"),v14);v51=v16(v49,"Cache des données joueur (%i entrées)",function() return v10.PlayerDataCache:CountAll();end);v51:SetPoint(v8("\181\3\253\62\194\167\24","\135\225\76\173\114"),v49,v8("\46\194\136\156\137\155\147","\199\122\141\216\208\204\221"));v52=v15(v49,v8("\140\219\22\249\123\254\168\207","\150\205\189\112\144\24"),654 -(507 + 67) ,v19);v17(v52,v51,true);v53=v15(v49,v8("\17\139\170\88\68\155\4\0\53\150\182\65\1\154","\112\69\228\223\44\100\232\113"),1874 -(1013 + 736) ,function() v18(v10.PlayerDataCache);end);v50=1;end if (5==v50) then v63:SetWidth(381 -181 );v17(v63,v62,true);v64=v15(v49,v8("\158\209\37\94\190\209\37\94","\44\221\185\64"),2050 -(582 + 1408) ,function() local v92=0;local v93;while true do if (v92==1) then v14();break;end if (v92==0) then v93=v63:GetText();if ((3187>=644) and v93 and (v93~="")) then v10:RunSlashCommand(v8("\13\232\71\84\102\17\170\91\79\118\13\235","\19\97\135\40\63"),v93);end v92=1;end end end);v64:SetPoint(v8("\154\115\3\23\10\23\154","\81\206\60\83\91\79"),v63,v8("\122\132\224\64\6\228\101\144","\196\46\203\176\18\79\163\45"));v64:SetPoint(v8("\154\13\74\42\11\214\195\157\4\74","\143\216\66\30\126\68\155"),v63,v8("\136\231\57\255\234\142\229\200\141\224\57","\129\202\168\109\171\165\195\183"));v17(v64,v63);v50=6;end if (v50==1) then v17(v53,v52);v54=v16(v49,"Cache des données PNJ (%i entrées)",function() return v10.NpcDataCache:CountAll();end);v17(v54,v52,true,17 + 3 );v55=v15(v49,v8("\245\25\1\218\181\116\131\198","\230\180\127\103\179\214\28"),193 -113 ,v20);v17(v55,v54,true);v56=v15(v49,v8("\184\10\74\82\164\82\245\156\21\77\79\233\68\242","\128\236\101\63\38\132\33"),458 -333 ,function() v18(v10.NpcDataCache);end);v50=2;end if (v50==6) then v63.onSubmit=function() v64:Click();end;v65=v15(v49,v8("\17\91\54\214\208\17\244","\134\66\56\87\184\190\116"),277 -197 ,function() v10:RunSlashCommand(v8("\47\50\8\181\84\248\49\48\48\61\26","\85\92\81\105\219\121\139\65"));end);v17(v65,v63,true);v66=v15(v49,v8("\201\188\69\81\60\204\232\163\64\87\117\210\248\161","\191\157\211\48\37\28"),157 -32 ,function() v18(v10.GameSpellCache);end);v17(v66,v65);v67=v16(v49,"Autres paramètres de sauvegarde");v50=7;end if (7==v50) then v17(v67,v65,true,75 -55 );v68=v15(v49,"Réinitialiser les positions de fenêtres",2094 -(1195 + 629) ,function() local v94=0;while true do if (2==v94) then v10.Logger:Warn("Positions des fenêtres réinitialisées.");break;end if (v94==1) then v10.QuestLogFrame:ResetWindowState();v10.Config:SaveValue(v8("\249\13\245\17\63\251\30\224\29","\90\191\127\148\124"),{});v94=2;end if (v94==0) then v10.LocationFinderFrame:ResetWindowState();v10.EmoteFrame:ResetWindowState();v94=1;end end end);v17(v68,v67,true);v69=v15(v49,"Réinitialiser toutes les données sauvegardées",357 -87 ,function() v10.StaticPopups:Show(v8("\74\130\61\18\108\180\47\1\125\163\47\3\121","\119\24\231\78"));end);v17(v69,v68,true);v14();break;end if (v50==2) then v17(v56,v55);v57=v16(v49,"Cache des données objets (%i entrées)",function() return v10.GameItemCache:CountAll();end);v17(v57,v55,true,887 -(550 + 317) );v58=v10.CustomWidgets:CreateWidget(v8("\152\172\9\80\159\229\223\185\189","\175\204\201\113\36\214\139"),v49,"Nom ou ID de l’objet");v58:SetWidth(288 -88 );v17(v58,v57,true);v50=3;end if (4==v50) then v17(v60,v58,true);v61=v15(v49,v8("\239\132\4\225\249\207\218\203\155\3\252\180\217\221","\175\187\235\113\149\217\188"),410 -(134 + 151) ,function() v18(v10.GameItemCache);end);v17(v61,v60);v62=v16(v49,"Cache des données sorts (%i entrées)",function() return v10.GameSpellCache:CountAll();end);v17(v62,v60,true,1685 -(970 + 695) );v63=v10.CustomWidgets:CreateWidget(v8("\8\170\153\88\202\119\104\41\187","\24\92\207\225\44\131\25"),v49,v8("\101\220\181\12\20\104\11\250\156\12\31\104\11\192\183\94\15","\29\43\179\216\44\123"));v50=5;end if (v50==3) then v59=v15(v49,v8("\100\196\48\206\7\79\201\39","\100\39\172\85\188"),84 -24 ,function() local v95=0;local v96;while true do if (v95==1) then v14();break;end if (v95==0) then v96=v58:GetText();if ((3061>=2958) and v96 and (v96~="")) then v10:RunSlashCommand(v8("\161\119\182\139\38\189\53\176\148\54\160","\83\205\24\217\224"),v96);end v95=1;end end end);v59:SetPoint(v8("\210\234\253\17\195\227\249","\93\134\165\173"),v58,v8("\138\221\241\240\19\233\154\74","\30\222\146\161\162\90\174\210"));v59:SetPoint(v8("\199\97\68\62\202\99\92\47\195\122","\106\133\46\16"),v58,v8("\122\15\71\200\117\109\106\9\84\212\110","\32\56\64\19\156\58"));v17(v59,v58);v58.onSubmit=function() v59:Click();end;v60=v15(v49,v8("\105\203\228\88\84\247\146","\224\58\168\133\54\58\146"),223 -143 ,function() v10:RunSlashCommand(v8("\74\85\74\243\56\143\147\14\84\69","\107\57\54\43\157\21\230\231"));end);v50=4;end end end;