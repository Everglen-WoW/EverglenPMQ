local v0={};local v1=string.char;local v2=string.byte;local v3=string.sub;local v4=bit32 or bit ;local v5=v4.bxor;local v6=table.concat;local v7=table.insert;local function v8(v21,v22) local v23={};for v40=1, #v21 do v7(v23,v1(v5(v2(v3(v21,v40,v40 + 1 )),v2(v3(v22,1 + (v40% #v22) ,1 + (v40% #v22) + 1 )))%256 ));end return v6(v23);end local v9,v10=...;local v11=v10.Logger:NewLogger(v8("\226\203\218\55\227","\126\177\163\187\69\134\219\167"));local v12,v13=v10.QuestCatalogStatus,v10.QuestStatus;local v14,v15=v10.MessageEvents,v10.MessageDistribution;local v16,v17=v10.G.IsInGroup,v10.G.IsInRaid;local function v18(v24,v25,v26,v27) local v28=0;while true do if (v28==1) then return v24,v25;end if (v28==0) then if ((( not v24 or  not v24.metadata) and ( not v26 or  not v26.metadata)) or (3791<=1611)) then error(v8("\0\204\36\203\243\55\141\46\192\232\38\223\39\204\242\38\141\36\192\235\38\223\106\212\233\38\222\62\204\243\45\141\60\192\238\48\196\37\203\188\110\141\36\192\245\55\197\47\215\188\50\216\47\214\232\99\206\37\203\232\34\196\36\214\188\53\200\56\214\245\44\195\106\204\242\37\194\56\200\253\55\196\37\203","\156\67\173\74\165"));elseif ((v24 and v24.metadata and ( not v26 or  not v26.metadata)) or (4578<=2008)) then return v24,v25;elseif ((1125<=2076) and v26 and v26.metadata and ( not v24 or  not v24.metadata)) then return v26,v27;end if ((v26.metadata.compileDate==nil) or (743>=4399)) then return v24,v25;elseif ((1155<1673) and (v26.metadata.compileDate>v24.metadata.compileDate) and (v26.metadata.hash~=v24.metadata.hash)) then return v26,v27;end v28=1;end end end local function v19(v29) local v30=0;local v31;local v32;while true do if (v30==0) then v31,v32=v29.questId,v8("\7\191\72\4\185\34","\38\84\215\41\118\220\70");v29,v32=v18(v29,v32,v10.QuestCatalog:FindByID(v31),v8("\97\3\39\1\234\115\23\54\19\242\95\17","\158\48\118\66\114"));v30=1;end if (v30==2) then v10.Logger:Trace(v8("\210\82\176\67\239\67\231\87\233\82\180\82\188\65\162\84\239\94\168\72\188\69\162\85\243\91\177\67\248\13\231\3\239\23\239\3\239\30","\38\156\55\199"),v32,tostring(v29.metadata.compileDate));return v29,v32;end if (v30==1) then v29,v32=v18(v29,v32,v10.QuestLog:FindByID(v31),v8("\154\49\21\37\103\137\244\172","\155\203\68\112\86\19\197"));v29,v32=v18(v29,v32,v10.QuestArchive:FindByID(v31),v8("\119\200\51\239\84\89\247\251\78\212\32\249","\152\38\189\86\156\32\24\133"));v30=2;end end end v10.ShareQuest=function(v33,v34,v35) local v36=0;local v37;while true do if (v36==4) then v10.Logger:Warn(v8("\143\203\214\24\11\37\187\131\198\31\7\56\168\131\146\25\76\101\242","\75\220\163\183\106\98"),v34.name);break;end if (v36==0) then assert(type(v34)==v8("\188\124\126\36\22","\35\200\29\28\72\115\20\154") ,v8("\63\190\216\211\136\40\116\13\176\145\236\133\45\38\28\142\196\218\158\56\110\89\190\145\206\152\41\39\13\255\220\202\158\56\116\27\186\145\207\159\35\34\16\187\212\219","\84\121\223\177\191\237\76"));v34=v10:CopyTable(v34);v36=1;end if (v36==2) then if ( not v35 or (2324<=578)) then local v72=0;while true do if (v72==0) then v34.metadata.giverName=v10:GetPlayerName();v34.metadata.giverRealm=v10:GetPlayerRealm();v72=1;end if (v72==1) then v34.metadata.giverGuild=v10:GetPlayerGuildName();break;end end end v37={};v36=3;end if (v36==1) then v10:CleanQuest(v34);v10.QuestEngine:Validate(v34);v36=2;end if (v36==3) then if ((3767==3767) and v17()) then v37.distribution=v15.Raid;elseif ((4089==4089) and v16()) then v37.distribution=v15.Party;else local v87=0;while true do if (v87==0) then v10.Logger:Warn(v8("\130\89\220\224\55\69\35\213\251\84\204\224\51\94\112\192\251\70\200\178\46\73\112\206\169\22\219\161\51\84\112\198\169\89\220\176\122\68\63\129\168\94\200\178\63\16\49\129\170\67\204\179\46\30","\161\219\54\169\192\90\48\80"));return;end end end v14:Publish(v8("\120\87\5\54\93\107\14\51\64\86\5","\69\41\34\96"),v37,v34);v36=4;end end end;v10:OnBackendStart(function() local v38={[v13.Active]={[v8("\15\191\152\36\216\5\191","\185\98\218\235\87")]=v8("\142\47\103\239\205\234\202\48\53\227\223\174\210\124\40\232\158\190\195\61\51\166\207\191\206\47\51\168","\202\171\92\71\134\190")},[v13.Finished]={[v8("\36\196\63\155\40\198\41","\232\73\161\76")]=v8("\254\202\2\85\31\168\153\68\84\16\178\202\74\88\26\251\205\74\92\10\251\200\87\88\13\175\149\2\95\11\175\153\74\92\13\251\215\77\73\94\175\204\80\83\27\191\153\75\73\94\178\215\12","\126\219\185\34\61")},[v13.Completed]={[v8("\1\203\77\97\127\112\246","\135\108\174\62\18\30\23\147")]=v8("\243\250\106\195\25\189\115\196\185\228\58\199\29\186\54\195\246\253\34\202\12\238\34\210\179\250\62\133","\167\214\137\74\171\120\206\83")}};v14:Subscribe(v8("\186\229\55\78\236\142\133\230\59\73\253","\199\235\144\82\61\152"),function(v41,v42,v43) local v44=0;local v45;local v46;local v47;local v48;local v49;local v50;local v51;local v52;local v53;while true do if (v44==2) then v50=v10.QuestCatalog:FindByID(v43.questId);if ( not v50 or (4938<4762)) then local v75=0;while true do if (0==v75) then v50=v10.QuestCatalog:NewCatalogItem(v43);v48=true;break;end end else local v76=0;while true do if (v76==0) then v43,v45=v18(v50.quest,v8("\242\26\135\228\222\224\14\150\246\198\204\8","\170\163\111\226\151"),v43,v45);if ((v45~=v8("\32\37\183\43\90\20\40\5\49\190\55\73","\73\113\80\210\88\46\87")) or (2504>4264)) then local v92=0;while true do if (v92==0) then v50.quest=v43;v48=true;v92=1;end if (v92==1) then v49=true;break;end end end break;end end end if ((2153==2153) and v48) then v10.QuestCatalog:Save(v50,v12.Invited);end v51=nil;v44=3;end if (v44==1) then v10.QuestEngine:Validate(v43);v46,v47=v10:MigrateQuest(v43);if ((972<=1418) and  not v46) then local v77=0;while true do if (v77==1) then v14:Publish(v8("\137\252\222\215\172\192\213\210\177\253\222\224\189\234\215\205\182\236\223","\164\216\137\187"),{[v8("\214\239\34\166\180\247\9\199\242\56\189\168","\107\178\134\81\210\198\158")]=v15.Whisper,[v8("\44\15\144\193\175\44","\202\88\110\226\166")]=v42});return;end if (v77==0) then v10.Logger:Warn(v8("\145\215\174\72\198\205\235\88\148\208\225\28\199\204\239\78\209\132\239\28\197\209\235\79\192\132\249\85\192\204\174\69\219\209\162\28\214\209\250\28\192\204\235\78\209\132\249\93\199\132\239\28\217\205\233\78\213\208\231\83\218\132\235\78\198\203\252\6\148\129\253","\60\180\164\142"),v42,v47);v10.Logger:Warn(v8("\104\82\0\40\52\232\82\89\77\14\105\51\229\23\85\30\17\38\103\248\2\92\95\17\44\103\221\63\105\30\17\38\103\168\1\24\81\23\105\43\236\6\93\76\69\40\41\233\82\74\91\22\61\38\255\6\24\74\13\44\46\255\82\95\95\8\44\105","\114\56\62\101\73\71\141"),v10:GetVersionText());v77=1;end end end v48,v49=false,false;v44=2;end if (v44==4) then v53=v10.QuestEngine:EvaluateRequirements(v43);if ((1588>=1332) and v53) then local v78=0;while true do if (v78==0) then v11:Trace(v8("\157\188\20\87\162\171\221\169\184\4\77\164\238\194\169\167\5\87\246\230\202\184\229\81\87\190\228\216\165\167\22\4\135\254\202\191\189\56\74\176\228\233\190\168\28\65","\175\204\201\113\36\214\139"));if (v10.QuestInfoFrame or (4174>4248)) then v10.QuestInfoFrame:ShowQuest(v50.quest);end break;end end else local v79=0;while true do if (v79==0) then v10.Logger:Warn(v8("\126\195\32\156\0\72\140\59\211\16\7\193\48\217\16\7\216\61\217\68\85\201\36\201\13\85\201\56\217\10\83\223\121\156\6\82\216\117\213\16\7\196\52\207\68\69\201\48\210\68\84\205\35\217\0\7\216\58\156\29\72\217\39\156\39\70\216\52\208\11\64\130","\100\39\172\85\188"));v14:Publish(v8("\156\109\188\147\39\132\118\175\137\39\168\74\188\145\38\164\106\188\141\54\163\108\170","\83\205\24\217\224"),{[v8("\226\204\222\41\244\204\207\40\242\204\194\51","\93\134\165\173")]=v15.Whisper,[v8("\170\243\211\197\63\218","\30\222\146\161\162\90\174\210")]=v42},v43.questId);break;end end end break;end if (v44==0) then if ((4458>=1674) and v43.quest) then local v80=0;while true do if (v80==0) then v10.Logger:Warn(v8("\66\5\249\63\21\31\188\47\71\2\182\107\20\30\184\57\2\86\184\107\22\3\188\56\19\86\174\34\19\30\249\50\8\3\245\107\5\3\173\107\19\30\188\34\21\86\184\47\3\25\183\107\14\5\249\36\18\2\244\36\1\91\189\42\19\19\247","\75\103\118\217"),v42);v10.Logger:Warn(v8("\247\88\117\21\170\27\135\85\99\31\249\10\207\81\125\84\173\17\135\65\96\16\184\10\194\20\64\57\136\94\211\91\48\81\170\94\200\70\48\24\184\10\194\70\48\21\183\26\135\70\117\7\173\31\213\64\48\0\177\27\206\70\48\19\184\19\194\26","\126\167\52\16\116\217"),v10:GetVersionText());v80=1;end if (v80==1) then v14:Publish(v8("\249\59\37\147\160\48\242\222\39\52\133\144\28\255\196\39\46\133\176","\156\168\78\64\224\212\121"),{[v8("\3\231\182\218\21\231\167\219\19\231\170\192","\174\103\142\197")]=v15.Whisper,[v8("\66\41\77\63\32\74","\152\54\72\63\88\69\62")]=v42});return;end end end v45=nil;v43,v45=v19(v43);v10:CleanQuest(v43);v44=1;end if (v44==3) then v52=v10.QuestLog:FindByID(v43.questId);if ((v52 and v38[v52.status]) or (507>=2591)) then local v81=0;while true do if (v81==0) then v11:Trace("Quest is duplicate: already in log with status '%s'",v52.status);v51=v52.status;break;end end else local v82=0;local v83;while true do if (v82==0) then v83=v10.QuestArchive:FindByID(v43.questId);if ((4481==4481) and v83 and v38[v83.status]) then local v93=0;while true do if (v93==0) then v11:Trace("Quest is duplicate: already in archive with status '%s'",v83.status);v51=v83.status;break;end end end break;end end end if (v51 or (2328<693)) then local v84=0;while true do if (v84==1) then return;end if (v84==0) then v14:Publish(v8("\176\57\200\1\243\168\34\219\27\243\132\8\216\2\235\136\47\204\6\226","\135\225\76\173\114"),{[v8("\30\228\171\164\190\180\165\15\249\177\191\162","\199\122\141\216\208\204\221")]=v15.Whisper,[v8("\185\220\2\247\125\226","\150\205\189\112\144\24")]=v42},v43.questId,v51);if ((4328==4328) and v49) then local v94=0;while true do if (v94==0) then v10.Logger:Warn(v8("\96\151\255\95\12\137\3\21\33\196\190\12\10\141\6\80\51\129\173\95\13\135\31\80\42\130\255\77\68\153\4\21\54\144\229\12\65\155","\112\69\228\223\44\100\232\113"),v42,v43.name);v10.Logger:Warn(v8("\231\11\6\193\162\60\146\220\22\20\147\167\105\131\199\11\71\213\164\115\139\148\6\8\198\164\60\165\213\11\6\223\185\123\198\192\16\71\195\186\125\159\148\11\15\218\165\60\136\209\8\71\197\179\110\149\221\16\9\157","\230\180\127\103\179\214\28"));break;end end end v84=1;end end end v10.Logger:Warn(v8("\201\22\31\78\229\82\160\133\11\73\79\240\68\228\204\28\80\83\164\85\239\204\4\31\87\241\68\243\152\95\31\3\247","\128\236\101\63\38\132\33"),v42,v50.quest.name);v44=4;end end end);v14:Subscribe(v8("\212\91\117\25\241\103\126\28\236\90\117\43\230\77\117\26\241\75\116","\106\133\46\16"),function(v54,v55,v56) v10.Logger:Warn(v8("\29\51\51\244\91\83\24\33\112\255\95\80\76\37\119\188\67\79\77\50\51\237\79\69\75\52\61","\32\56\64\19\156\58"),v55);end);v14:Subscribe(v8("\107\221\224\69\78\219\142\76\193\241\83\126\247\131\86\193\235\83\94","\224\58\168\133\54\58\146"),function(v57,v58,v59) v10.Logger:Warn(v8("\28\69\11\245\116\149\199\15\92\85\71\244\123\131\131\75\64\89\94\239\53\151\146\14\74\66\5","\107\57\54\43\157\21\230\231"),v58);end);v14:Subscribe(v8("\234\158\20\230\173\245\193\205\130\5\240\157\201\223\215\130\18\244\173\217","\175\187\235\113\149\217\188"),function(v60,v61,v62,v63) if ((v63 and v38[v63]) or (4586<=82)) then v10.Logger:Warn(v38[v63].message,v61);end end);v14:Subscribe(v8("\13\186\132\95\247\80\118\42\166\149\73\209\124\105\41\166\147\73\238\124\118\40\188","\24\92\207\225\44\131\25"),function(v64,v65,v66) v10.Logger:Warn(v8("\14\192\248\72\20\120\88\147\182\67\15\61\70\214\189\88\91\105\67\214\248\94\30\108\94\218\170\73\22\120\69\199\171\12\29\114\89\147\172\68\26\105\11\194\173\73\8\105\5","\29\43\179\216\44\123"),v65);end);local function v39(v67,v68) if ((3863==3863) and v67.metadata.giverName) then v14:Publish(v68,{[v8("\185\208\51\88\175\208\34\89\169\208\47\66","\44\221\185\64")]=v15.Whisper,[v8("\21\230\90\88\118\21","\19\97\135\40\63")]=v67.metadata.giverName},v67.questId);end end v10.AppEvents:Subscribe(v8("\159\73\54\40\59\16\173\95\54\43\59\52\170","\81\206\60\83\91\79"),function(v69) v39(v69,v8("\127\190\213\97\59\234\67\178\71\191\213\83\44\192\72\180\90\174\212","\196\46\203\176\18\79\163\45"));end);v10.AppEvents:Subscribe(v8("\137\55\123\13\48\223\234\187\46\119\16\33\255","\143\216\66\30\126\68\155"),function(v70) v39(v70,v8("\155\221\8\216\209\138\217\247\163\220\8\239\192\160\219\232\164\205\9","\129\202\168\109\171\165\195\183"));end);end);