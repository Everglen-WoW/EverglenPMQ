local v0={};local v1=string.char;local v2=string.byte;local v3=string.sub;local v4=bit32 or bit ;local v5=v4.bxor;local v6=table.concat;local v7=table.insert;local function v8(v16,v17) local v18={};for v22=1, #v16 do v7(v18,v1(v5(v2(v3(v16,v22,v22 + 1 )),v2(v3(v17,1 + (v22% #v17) ,1 + (v22% #v17) + 1 )))%256 ));end return v6(v18);end local v9=require(v8("\194\211\222\38\169\186\195\26\222\205\150\39\243\178\203\26\212\209","\126\177\163\187\69\134\219\167"));local v10=v9:Build();local v11=require(v8("\48\221\47\198\179\38\219\47\203\232\48","\156\67\173\74\165"));local v12=v10.QuestScriptCompiler;local v13,v14=v10.QuestLog,v10.QuestStatus;local v15=[[
  quest:
    name: Test Quest
    description: I sure hope these tests pass!
  objectives:
    - kill 5 Chicken
    - talk-to 3 "Stormwind Guard"
    - use-emote dance 2 Cow
]];describe(v8("\5\162\76\5\168\10\73\51","\38\84\215\41\118\220\70"),function() local v19=0;local v20;local v21;while true do if (2==v19) then describe(v8("\207\86\177\67\203\94\179\78\207\67\166\82\233\68","\38\156\55\199"),function() local v23=0;local v24;while true do if (v23==0) then v24=nil;before_each(function() local v32=0;while true do if (v32==1) then v13:Save(v24);v24=v13:FindByID(v24.questId);v32=2;end if (v32==2) then v10:Advance();v20:Reset();break;end if (v32==0) then v24=v12:Compile(v15);v24.status=v14.Finished;v32=1;end end end);v23=1;end if (v23==2) then it(v8("\184\87\199\174\53\68\112\210\186\64\204\224\59\16\33\212\190\69\221\224\45\89\36\201\180\67\221\224\59\16\35\213\186\66\220\179","\161\219\54\169\192\90\48\80"),function() local v33=0;while true do if (0==v33) then assert.has_error(function() v13:SaveWithStatus(v24);end);v20:AssertNotPublished(v8("\120\87\5\54\93\99\4\33\76\70","\69\41\34\96"));break;end end end);it(v8("\191\194\217\4\13\63\252\208\214\28\7\107\189\131\198\31\7\56\168\131\192\3\22\35\252\194\217\74\11\37\170\194\219\3\6\107\175\215\214\30\23\56","\75\220\163\183\106\98"),function() local v34=0;while true do if (0==v34) then assert.has_error(function() v13:SaveWithStatus(v24,v8("\11\180\157\54\213\11\190","\185\98\218\235\87"));end);v20:AssertNotPublished(v8("\250\41\34\245\202\139\207\56\34\226","\202\171\92\71\134\190"));break;end end end);v23=3;end if (3==v23) then it(v8("\57\212\46\132\32\210\36\141\58\129\41\158\44\207\56\200\38\207\108\155\61\192\56\157\58\129\47\128\40\207\43\141","\232\73\161\76"),function() local v35=0;while true do if (v35==1) then v20:AssertPublished(v8("\138\204\71\78\10\136\205\67\73\11\168\250\74\92\16\188\220\70","\126\219\185\34\61"));break;end if (0==v35) then v13:SaveWithStatus(v24,v14.Active);v10:Advance();v35=1;end end end);it(v8("\8\193\91\97\62\121\252\243\76\222\75\112\114\126\224\239\76\203\72\119\112\99\179\232\2\142\77\115\115\114\179\244\24\207\74\103\109","\135\108\174\62\18\30\23\147"),function() local v36=0;while true do if (v36==0) then v13:SaveWithStatus(v24,v24.status);v20:AssertNotPublished(v8("\135\252\47\216\12\157\39\198\162\252\57\232\16\175\61\192\179\237","\167\214\137\74\171\120\206\83"));break;end end end);break;end if (1==v23) then it(v8("\171\124\114\104\0\117\236\70\232\110\104\41\7\97\233\3\167\115\60\57\6\113\233\87","\35\200\29\28\72\115\20\154"),function() local v37=0;while true do if (v37==0) then v13:SaveWithStatus(v24,v14.Completed);v24=v13:FindByID(v24.questId);v37=1;end if (v37==1) then assert.equals(v14.Completed,v24.status);break;end end end);it(v8("\26\190\223\159\158\45\34\28\255\194\203\140\56\33\10\255\211\198\205\61\33\28\172\197\246\137","\84\121\223\177\191\237\76"),function() local v38=0;while true do if (v38==1) then assert.equals(v14.Completed,v24.status);break;end if (v38==0) then v13:SaveWithStatus(v24.questId,v14.Completed);v24=v13:FindByID(v24.questId);v38=1;end end end);v23=2;end end end);break;end if (v19==0) then v20,v21=nil;setup(function() local v25=0;while true do if (v25==1) then v20=v11:SpyOnEvents(v10.AppEvents);v21=v11:SpyOnEvents(v10.MessageEvents);break;end if (v25==0) then v10:Init();v10:Advance();v25=1;end end end);v19=1;end if (v19==1) then before_each(function() local v26=0;while true do if (v26==1) then v20:Reset();v21:Reset();break;end if (v26==0) then v13:DeleteAll();v10:Advance();v26=1;end end end);describe(v8("\102\23\46\27\250\81\2\39","\158\48\118\66\114"),function() it(v8("\168\37\30\118\96\164\237\174\100\17\118\98\176\254\184\48\80\33\122\177\243\235\37\80\32\114\169\242\175\100\3\34\114\177\238\184","\155\203\68\112\86\19\197"),function() local v27=0;local v28;local v29;local v30;local v31;while true do if (v27==0) then v28=v12:Compile(v15);v13:SaveWithStatus(v28,v14.Active);v27=1;end if (v27==2) then v30=v13:FindByID(v28.questId);v30.cd=nil;v27=3;end if (v27==1) then v29=v13:FindAll();assert.equals(1 + 0 , #v29);v27=2;end if (v27==4) then v31=v20:GetPublishPayload(v8("\119\200\51\239\84\89\225\252\67\217","\152\38\189\86\156\32\24\133"),1 -0 );assert.same(v28,v31);break;end if (v27==3) then v30.ud=nil;assert.same(v30,v28);v27=4;end end end);end);v19=2;end end end);