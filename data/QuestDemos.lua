local v0={};local v1=string.char;local v2=string.byte;local v3=string.sub;local v4=bit32 or bit ;local v5=v4.bxor;local v6=table.concat;local v7=table.insert;local function v8(v17,v18) local v19={};for v45=1, #v17 do v7(v19,v1(v5(v2(v3(v17,v45,v45 + 1 )),v2(v3(v18,1 + (v45% #v18) ,1 + (v45% #v18) + 1 )))%256 ));end return v6(v19);end local v9,v10=...;v10.QuestDemos=v10:NewRepository(v8("\245\198\214\42\215\174\194\13\197","\126\177\163\187\69\134\219\167"),v8("\39\200\39\202\213\39","\156\67\173\74\165"));v10.QuestDemos:SetTableSource(v10.DemoQuestDB);v10.QuestDemos:EnableDirectRead(true);v10.QuestDemos.CompileDemo=function(v20,v21) local v22=0;local v23;local v24;while true do if (v22==0) then if ((3273==3273) and  not v21) then return false,v8("\48\178\68\25\149\34\6\38\178\88\3\181\53","\38\84\215\41\118\220\70");end v23=v20:FindByID(v21);v22=1;end if (v22==2) then return v10.QuestScriptCompiler:TryCompile(v23.script,{[v8("\237\66\162\85\232\126\163","\38\156\55\199")]=v21,[v8("\165\120\104\41\23\117\238\66","\35\200\29\28\72\115\20\154")]=v24});end if (v22==1) then if ((3824>409) and  not v23) then return false,"Aucune démo trouvée avec l'ID : "   .. v21 ;end v24={[v8("\81\3\54\26\241\66\36\39\19\242\93","\158\48\118\66\114")]="",[v8("\162\55\52\51\126\170","\155\203\68\112\86\19\197")]=true,[v8("\66\216\59\243\127\106\224\233\83\212\36\249\83","\152\38\189\86\156\32\24\133")]=v23.requires or nil };v22=2;end end end;v10.QuestDemos.CopyToDrafts=function(v25,v26,v27) local v28=0;local v29;local v30;while true do if (v28==3) then v10.QuestDrafts:Save(v30);return v30;end if (0==v28) then assert(type(v26)==v8("\10\171\195\214\131\43","\84\121\223\177\191\237\76") ,v8("\191\83\196\175\19\84\112\211\190\71\220\169\41\16\32\206\174\68\137\172\59\16\51\206\171\95\204","\161\219\54\169\192\90\48\80"));v29=v25:FindByID(v26);v28=1;end if (v28==1) then v30=v10.QuestDrafts:NewDraft();v30.draftName=v27 or v29.demoName ;v28=2;end if (v28==2) then v30.script=v29.script;v30.parameters={[v8("\77\71\13\42\96\70","\69\41\34\96")]=v29.demoId};v28=3;end end end;v10.QuestDemos.StartDemo=function(v31,v32) local v33=0;local v34;local v35;local v36;while true do if (v33==0) then v34=v31:FindByID(v32);if ((2087==2087) and  not v34) then local v51=0;while true do if (v51==0) then v10.Logger:Error("Aucune quête de démonstration trouvée avec l’ID : %s",v32);return;end end end v33=1;end if (v33==1) then if ((v34.requires and  not v31:HasCompleted(v34.requires)) or (3404>4503)) then local v52=0;local v53;while true do if (v52==0) then v53=v31:FindByID(v34.requires);v10.Logger:Error("Vous devez terminer la quête '%s' avant de commencer celle-ci.",(v53 and v53.demoName) or v34.requires );v52=1;end if (v52==1) then return;end end end v35,v36=v31:CompileDemo(v32);v33=2;end if (v33==2) then if ( not v35 or (3506<=1309)) then local v54=0;while true do if (v54==0) then v10.Logger:Error("Impossible de compiler la quête de démonstration : %s",v36);return;end end end v10.QuestInfoFrame:ShowQuest(v36);break;end end end;v10.QuestDemos.MarkDemoCompleted=function(v37,v38) local v39=0;local v40;while true do if (v39==1) then v10.SaveData:Save(v8("\38\191\134\56\233\16\181\140\37\220\17\169","\185\98\218\235\87"),v40,false);break;end if (0==v39) then v40=v10.SaveData:LoadTable(v8("\152\198\218\5\50\57\179\196\197\15\17\56","\75\220\163\183\106\98"),false);v40[v38]=true;v39=1;end end end;v10.QuestDemos.HasCompleted=function(v41,v42) local v43=0;local v44;while true do if (v43==0) then v44=v10.SaveData:LoadTable(v8("\239\57\42\233\238\184\196\59\53\227\205\185","\202\171\92\71\134\190"),false);return v44[v42]==true ;end end end;