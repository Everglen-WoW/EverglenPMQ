local v0={};local v1={};local v2=string.char;local v3=string.byte;local v4=string.sub;local v5=bit32 or bit ;local v6=v5.bxor;local v7=table.concat;local v8=table.insert;local function v9(v27,v28) local v29=0;local v30;while true do if (v29==0) then v30={};for v65=2 -1 , #v27 do v8(v30,v2(v6(v3(v4(v27,v65,v65 + (2 -1) )),v3(v4(v28,(1 -0) + (v65% #v28) ,(2 -1) + (v65% #v28) + (620 -(555 + 64)) )))%(1187 -(857 + 74)) ));end v29=1;end if (v29==1) then return v7(v30);end end end local v10,v11=...;local v12=v11.QuestDrafts;local v13=v11.MainMenu:NewMenuScreen(v9("\224\214\222\54\242\159\213\31\215\215\254\33\239\175\234\27\223\214","\126\177\163\187\69\134\219\167"));local v14;local v15;local function v16() return v14.nameField:IsDirty() or v14.scriptEditor:IsDirty() ;end local function v17() local v31=0;local v32;while true do if (v31==0) then v32=568 -(367 + 201) ;while true do if ((v32==(927 -(214 + 713))) or (4169>=4247)) then v14.nameField:SetDirty(false);v14.scriptEditor:SetDirty(false);break;end end break;end end end local function v18() v11.MainMenu:NavToMenuScreen(v9("\18\216\47\214\232\7\223\43\195\232\15\196\57\209\209\38\195\63","\156\67\173\74\165"));end local function v19(v33) local v34=0;local v35;local v36;while true do if (0==v34) then v35=0 + 0 ;v36=nil;v34=1;end if (v34==1) then while true do if ((1406<1894) and ((0 + 0)==v35)) then local v67=0;while true do if (v67==0) then v33.draftName=v14.nameField:GetText();v36=v14.scriptEditor:GetText();v67=1;end if (1==v67) then v35=878 -(282 + 595) ;break;end end end if ((1572>=1531) and (v35==(1638 -(1523 + 114)))) then local v68=0;while true do if (v68==1) then v35=2 + 0 ;break;end if (v68==0) then v36=v36:gsub(v9("\40\180\12\14\249\62\3\44\242\81\83\164\99\94\113\175\12\14","\38\84\215\41\118\220\70"),"");v36=v36:gsub(v9("\76\4","\158\48\118\66\114"),"");v68=1;end end end if ((v35==(2 -0)) or (4687<4542)) then v33.script=v36;break;end end break;end end end local function v20() local v37=0;local v38;local v39;local v40;while true do if (v37==1) then v40=nil;while true do local v66=0;while true do if (v66==0) then if ((3291>1667) and (v38==(1271 -(226 + 1044)))) then local v85=0;while true do if (v85==0) then v40=v39.script;v40=v40:gsub(v9("\183\39\85\46\54\189\190\179\97\8\115\107\224\227\238\60\85\46","\155\203\68\112\86\19\197"),"");v85=1;end if (v85==1) then v38=8 -6 ;break;end end end if ((v38==(117 -(32 + 85))) or (873==2034)) then local v86=0;while true do if (v86==0) then v39=v11:CopyTable(v15);v19(v39);v86=1;end if (v86==1) then v38=1 + 0 ;break;end end end v66=1;end if (v66==1) then if ((v38==(1 + 1)) or (2816<11)) then local v87=0;while true do if (v87==0) then v40=v40:gsub(v9("\90\207","\152\38\189\86\156\32\24\133"),"");return v11.QuestScriptCompiler:TryCompile(v40,v39.parameters);end end end break;end end end break;end if (v37==0) then v38=1065 -(68 + 997) ;v39=nil;v37=1;end end end local function v21() local v41=0;local v42;while true do if (0==v41) then v42=957 -(892 + 65) ;while true do if ((3699<4706) and ((2 -1)==v42)) then v12:Save(v15);v11.Logger:Info("Brouillon sauvegardé - %s",v15.draftName);break;end if ((2646>=876) and ((0 -0)==v42)) then local v70=0;while true do if (1==v70) then v42=181 -(67 + 113) ;break;end if (v70==0) then if ((614<=3184) and ( not v15 or ((4400 -2003)==(3172 -(87 + 263))))) then return;end v19(v15);v70=1;end end end end break;end end end local function v22() if ((3126==3126) and (v16() or ((3113 + 1132)==(11369 -6738)))) then v11.StaticPopups:Show(v9("\217\79\174\82\216\69\166\64\232","\38\156\55\199"),v21);else v18();end end local function v23() local v43=0;local v44;local v45;local v46;while true do if (v43==1) then v46=nil;while true do if ((v44==(3 -2)) or (2187>=4954)) then if ((((1150 -(802 + 150))<=(11752 -7387)) and  not v45) or (3877==3575)) then local v78=0;local v79;while true do if (v78==0) then v79=0 -0 ;while true do if ((707>632) and (v79==(0 + 0))) then local v92=0;while true do if (v92==0) then v11.Logger:Warn("Votre quête contient une erreur :\n%s",v46);return;end end end end break;end end end v11.Logger:Info("Votre quête est valide ! Aucune erreur détectée.");break;end if ((v44==(997 -(915 + 82))) or (546>=2684)) then local v71=0;while true do if (v71==0) then if ((1465<=4301) and ((12107 -7831)>=(2281 + 1633)) and  not v15) then return;end v45,v46=v20();v71=1;end if (v71==1) then v44=1 -0 ;break;end end end end break;end if (v43==0) then v44=0 + 0 ;v45=nil;v43=1;end end end v13.Create=function(v47,v48) local v49=0;local v50;local v51;local v52;local v53;while true do if (v49==1) then v52=nil;v53=nil;v49=2;end if (v49==2) then while true do if ((1704>1425) and (v50==(0 -0))) then local v72=0;while true do if (v72==1) then v51:SetPoint(v9("\136\236\231\56\43\12\148\247","\75\220\163\183\106\98"),v48,v9("\54\149\187\5\240\37\146\191","\185\98\218\235\87"));v50=1 -0 ;break;end if (v72==0) then v51=v11.CustomWidgets:CreateWidget(v9("\156\120\100\60\58\122\234\86\188","\35\200\29\28\72\115\20\154"),v48,v9("\55\176\220\159\137\57\116\27\173\222\202\132\32\56\22\177","\84\121\223\177\191\237\76"));v51:SetPoint(v9("\143\121\249\140\31\118\4","\161\219\54\169\192\90\48\80"),v48,v9("\125\109\48\9\108\100\52","\69\41\34\96"));v72=1;end end end if ((v50==(1 + 1)) or (687==4234)) then local v73=0;while true do if (v73==0) then v52:AddButton(v9("\254\47\44\137\176\28\238","\156\168\78\64\224\212\121"),v23,{[v9("\6\224\166\198\8\252","\174\103\142\197")]=v9("\100\1\120\16\17","\152\54\72\63\88\69\62")});v53=v11.CustomWidgets:CreateWidget(v9("\231\199\252\85\196\208\203\88\221\208\225\78","\60\180\164\142"),v48,"Script de quête");v73=1;end if (v73==1) then v53:SetPoint(v9("\108\113\53\5\2\203\38","\114\56\62\101\73\71\141"),v51,v9("\154\198\239\240\151\196\247\225\158\221","\164\216\137\187"));v50=4 -1 ;break;end end end if ((v50==(3 + 0)) or (3330<1429)) then local v74=0;while true do if (v74==0) then v53:SetPoint(v9("\240\201\5\134\137\211\57\251\193\25\134","\107\178\134\81\210\198\158"),v52,v9("\12\33\178\244\131\31\38\182","\202\88\110\226\166"));v53.GetText=function(v90) if ((1147>=335) and ((5573 -(368 + 423))>(14694 -10018)) and v90.editBox and v90.editBox.GetText) then return v90.editBox:GetText();elseif ((3435>2097) and ((4882 -(10 + 8))>(8451 -6254)) and v90.scrollFrame and v90.scrollFrame.editBox and v90.scrollFrame.editBox.GetText) then return v90.scrollFrame.editBox:GetText();else local v93=0;local v94;while true do if (v93==0) then v94=442 -(416 + 26) ;while true do if ((v94==(0 -0)) or (3770>=4041)) then local v100=0;while true do if (v100==0) then print(v9("\248\42\176\197\239\246\61\191\183\235\214\12\151\249\138\228\10\150\195\207\219\27\202\190\138\199\6\145\231\197\205\6\128\251\207\131\28\151\229\138\208\12\144\254\218\215\42\134\254\222\204\29","\170\163\111\226\151"));return nil;end end end end break;end end end end;v74=1;end if (v74==1) then v48.nameField=v51;v50=2 + 2 ;break;end end end if ((v50==(1 -0)) or (3791<=1611)) then local v75=0;while true do if (1==v75) then v52:AddButton(v9("\184\241\39\75\253\160\138\226\54\88\234","\199\235\144\82\61\152"),v21,{[v9("\6\24\186\35\8\4","\75\103\118\217")]=v9("\245\125\87\60\141","\126\167\52\16\116\217")});v50=440 -(145 + 293) ;break;end if (v75==0) then v52=v11.CustomWidgets:CreateWidget(v9("\233\41\51\242\209\164\251\61\41\227","\202\171\92\71\134\190"),v48,v9("\11\238\24\188\6\236","\232\73\161\76"));v52:AddButton(v9("\137\220\86\82\11\169","\126\219\185\34\61"),v22,{[v9("\13\192\93\122\113\101","\135\108\174\62\18\30\23\147")]=v9("\154\204\12\255","\167\214\137\74\171\120\206\83")});v75=1;end end end if ((v50==(434 -(44 + 386))) or (4578<=2008)) then v48.scriptEditor=v53;break;end end break;end if (v49==0) then v50=1187 -(1069 + 118) ;v51=nil;v49=1;end end end;v13.OnShowMenu=function(v54,v55,v56) local v57=1486 -(998 + 488) ;while true do if ((1125<=2076) and (v57==(1 + 1))) then local v62=0;while true do if (v62==1) then v57=10 -7 ;break;end if (v62==0) then v11.Ace:ScheduleTimer(function() v55.scriptEditor.scrollFrame:SetVerticalScroll((885 + 195) -((1792 -(201 + 571)) + (1198 -(116 + 1022))) );end,(5924.032999999999 -4501) -(370 + 260 + (2894 -2101)) );v17();v62=1;end end end if (((862 -(814 + 45))==v57) or (743>=4399)) then v55.scriptEditor:RefreshStyle();break;end if ((1155<1673) and (v57==(2 -1))) then local v63=0;while true do if (v63==0) then v55.nameField:SetText(v15.draftName);v55.scriptEditor:SetText(v15.script);v63=1;end if (v63==1) then v57=1 + 1 ;break;end end end if ((v57==(0 + 0)) or (2324<=578)) then local v64=0;while true do if (v64==0) then v14=v55;if ((3767==3767) and (v56 or ((4585 -(261 + 624))==(4454 -1947)))) then local v80=0;local v81;while true do if (v80==0) then v81=1080 -(1020 + 60) ;while true do if ((4089==4089) and (v81==(1423 -(630 + 793)))) then v15=v12:FindByID(v56);if ((4458>=1674) and ((15160 -10686)>=(1297 -1023)) and  not v15) then local v97=0;local v98;while true do if (v97==0) then v98=0 + 0 ;while true do if ((972<=1418) and (v98==(0 -0))) then local v101=0;while true do if (v101==0) then v11.Logger:Error(v9("\63\63\242\60\92\54\47\5\112\179\46\79\62\37\16\50\190\61\14\32\32\5\56\242\49\74\109\105\84\35","\73\113\80\210\88\46\87"),v56);return;end end end end break;end end end break;end end break;end end else local v82=0;local v83;while true do if (v82==0) then v83=1747 -(760 + 987) ;while true do if ((v83==(1914 -(1789 + 124))) or (4938<4762)) then v15.script=[[
    quest:
      name: Nom de ma quête
      description: Dialogue pour le début de la quête.
      completion: Dialogue pour la fin de la quête.
    objectives:
      - ]];break;end if ((v83==(766 -(745 + 21))) or (2504>4264)) then local v96=0;while true do if (v96==0) then v15=v12:NewDraft();v15.draftName="Nouveau brouillon de quête";v96=1;end if (v96==1) then v83=1 + 0 ;break;end end end end break;end end end v64=1;end if (v64==1) then v57=2 -1 ;break;end end end end end;v13.OnLeaveMenu=function(v58,v59) local v60=0;local v61;while true do if (v60==0) then v61=0 -0 ;while true do if ((2153==2153) and (v61==(0 + 0))) then local v77=0;while true do if (1==v77) then v61=1 + 0 ;break;end if (v77==0) then v14=nil;v15=nil;v77=1;end end end if (((1056 -(87 + 968))==v61) or (507>=2591)) then v59.nameField:SetText();v59.scriptEditor:SetText();break;end end break;end end end;