local v0={};local v1=string.char;local v2=string.byte;local v3=string.sub;local v4=bit32 or bit ;local v5=v4.bxor;local v6=table.concat;local v7=table.insert;local function v8(v24,v25) local v26={};for v54=1, #v24 do v7(v26,v1(v5(v2(v3(v24,v54,v54 + 1 )),v2(v3(v25,1 + (v54% #v25) ,1 + (v54% #v25) + 1 )))%256 ));end return v6(v26);end local v9,v10=...;local v11=v10.QuestEngine;local v12,v13=v10.QuestLog,v10.QuestStatus;local v14,v15=v10.QuestCatalog,v10.QuestCatalogStatus;local v16=v10.QuestArchive;local function v17(v27) local v28=0;local v29;local v30;local v31;while true do if (v28==4) then v31=v16:FindByID(v27.questId);if (v31 or (4130<=2955)) then v16:Delete(v31);end break;end if (v28==2) then v11:StartTracking(v27);v10.AppEvents:Publish(v8("\224\214\222\54\242\136\211\31\195\215\222\33","\126\177\163\187\69\134\219\167"),v27);v28=3;end if (v28==0) then v29=v12:FindByID(v27.questId);if ((2958<4503) and v29) then v11:StopTracking(v29);end v28=1;end if (3==v28) then v30=v14:FindByID(v27.questId);if ((v30 and (v30.status~=v15.Accepted)) or (2735==1309)) then v14:SaveWithStatus(v30,v15.Accepted);end v28=4;end if (v28==1) then v10:CleanQuest(v27);v12:SaveWithStatus(v27,v13.Active);v28=2;end end end v10.CleanQuest=function(v32,v33) local v34=0;while true do if (v34==0) then v33.status=nil;if (v33.objectives or (1964<=1340)) then for v63,v64 in pairs(v33.objectives) do v64.progress=0 -0 ;end end v34=1;end if (v34==1) then if ((2499==2499) and v33.rewards) then v33.rewards.selection=nil;end break;end end end;v10.AcceptQuest=function(v35,v36,v37) local v38=0;while true do if (1==v38) then if (( not v11:EvaluateRecommendations(v36) and  not v37) or (2369==426)) then local v57=0;while true do if (0==v57) then v10.StaticPopups:Show(v8("\99\2\35\0\234\97\3\39\1\234\114\19\46\29\233\98\19\51\7\247\66\19\47\23\240\68\5","\158\48\118\66\114"),v36);return;end end end v17(v36);v38=2;end if (v38==2) then v10.Logger:Warn(v8("\154\49\21\37\103\229\218\168\39\21\38\103\160\255\241\100\85\37","\155\203\68\112\86\19\197"),v36.name);v10.AppEvents:Publish(v8("\119\200\51\239\84\89\230\251\67\205\34\249\68","\152\38\189\86\156\32\24\133"),v36);break;end if (v38==0) then if ( not v11:EvaluateRequirements(v36) or (2255<22)) then local v58=0;while true do if (v58==0) then v10.Logger:Warn(v8("\26\194\63\133\248\44\141\36\202\232\99\192\47\192\232\99\217\34\192\188\49\200\59\208\245\49\200\39\192\242\55\222\106\209\243\99\222\62\196\238\55\141\62\205\245\48\141\59\208\249\48\217\100","\156\67\173\74\165"));return;end end end if ( not v11:EvaluateStart(v36) or (1086>=1405)) then local v59=0;while true do if (v59==0) then v10.Logger:Warn(v8("\1\185\72\20\176\35\6\32\184\9\23\191\37\67\36\163\9\7\169\35\85\32\237\9\5\168\39\84\32\247\74\25\178\34\79\32\190\70\24\175\102\71\38\178\9\24\179\50\6\57\178\93","\38\84\215\41\118\220\70"));return;end end end v38=1;end end end;v10.DeclineQuest=function(v39,v40) local v41=0;local v42;while true do if (0==v41) then v42=v14:FindByID(v40.questId);if ((v42 and (v42.status==v15.Invited)) or (3076>3183)) then v14:SaveWithStatus(v42,v15.Declined);end v41=1;end if (v41==1) then v10.AppEvents:Publish(v8("\205\66\162\85\232\115\162\69\240\94\169\67\248","\38\156\55\199"),v40);break;end end end;v10.AbandonQuest=function(v43,v44,v45) local v46=0;while true do if (v46==1) then v11:StopTracking(v44);v10.Logger:Warn(v8("\40\170\212\204\153\108\53\27\190\223\219\130\34\49\29\229\145\154\158","\84\121\223\177\191\237\76"),v44.name);v46=2;end if (v46==0) then if ((1202>1058) and  not v45) then local v60=0;while true do if (v60==0) then v10.StaticPopups:Show(v8("\137\127\125\38\23\123\244\114\189\120\111\60","\35\200\29\28\72\115\20\154"),v44);return;end end end v12:SaveWithStatus(v44,v13.Abandoned);v46=1;end if (v46==2) then v10.AppEvents:Publish(v8("\138\67\204\179\46\113\50\192\181\82\198\174\63\84","\161\219\54\169\192\90\48\80"),v44);break;end end end;v10.CompleteQuest=function(v47,v48) local v49=0;while true do if (v49==1) then v11:StopTracking(v48);v10.Logger:Warn(v8("\249\208\151\9\13\38\172\207\210\30\7\47\242","\75\220\163\183\106\98"),v48.name);v49=2;end if (v49==2) then v10.AppEvents:Publish(v8("\51\175\142\36\205\33\181\134\39\213\7\174\142\51","\185\98\218\235\87"),v48);break;end if (0==v49) then if ((3711>3355) and  not v11:EvaluateComplete(v48)) then local v61=0;while true do if (v61==0) then v10.Logger:Warn(v8("\124\76\1\39\69\71\64\49\70\2\3\42\68\82\12\32\93\71\64\52\92\71\19\49\19\2\3\42\68\82\12\32\93\75\15\43\9\65\15\43\77\75\20\44\70\76\19\101\72\80\5\101\71\77\20\101\68\71\20","\69\41\34\96"));return;end end end v12:SaveWithStatus(v48,v13.Completed);v49=1;end end end;v10.RestartQuest=function(v50,v51,v52) local v53=0;while true do if (v53==1) then v10.Logger:Warn(v8("\24\212\41\155\61\129\30\141\58\213\45\154\61\196\40\210\105\132\63","\232\73\161\76"),v51.name);v10.AppEvents:Publish(v8("\138\204\71\78\10\137\220\81\73\31\169\205\71\89","\126\219\185\34\61"),v51);break;end if (v53==0) then if ( not v52 or (906>=2229)) then local v62=0;while true do if (v62==0) then v10.StaticPopups:Show(v8("\249\57\52\242\223\184\223\13\50\227\205\190","\202\171\92\71\134\190"),v51);return;end end end v17(v51);v53=1;end end end;