local v0={};local v1=string.char;local v2=string.byte;local v3=string.sub;local v4=bit32 or bit ;local v5=v4.bxor;local v6=table.concat;local v7=table.insert;local function v8(v17,v18) local v19={};for v45=1, #v17 do v7(v19,v1(v5(v2(v3(v17,v45,v45 + 1 )),v2(v3(v18,1 + (v45% #v18) ,1 + (v45% #v18) + 1 )))%256 ));end return v6(v19);end local v9,v10=...;v10.QuestDemos=v10:NewRepository(v8("\245\198\214\42\215\174\194\13\197","\126\177\163\187\69\134\219\167"),v8("\39\200\39\202\213\39","\156\67\173\74\165"));v10.QuestDemos:SetTableSource(v10.DemoQuestDB);v10.QuestDemos:EnableDirectRead(true);v10.QuestDemos.CompileDemo=function(v20,v21) local v22=0;local v23;local v24;while true do if (v22==1) then if ( not v23 or (3564<=2087)) then return false,"Aucune démo trouvée avec l'ID : "   .. v21 ;end v24={[v8("\81\3\54\26\241\66\56\35\31\251","\158\48\118\66\114")]=v8("\155\9\33","\155\203\68\112\86\19\197"),[v8("\71\200\34\244\79\106\215\253\71\209\59","\152\38\189\86\156\32\24\133")]="",[v8("\245\68\131\67\241\88","\38\156\55\199")]=true};v22=2;end if (v22==0) then if ((409<=1032) and  not v21) then return false,v8("\48\178\68\25\149\34\6\38\178\88\3\181\53","\38\84\215\41\118\220\70");end v23=v20:FindByID(v21);v22=1;end if (v22==2) then return v10.QuestScriptCompiler:TryCompile(v23.script,{[v8("\185\104\121\59\7\93\254","\35\200\29\28\72\115\20\154")]=v21,[v8("\20\186\197\222\137\45\32\24","\84\121\223\177\191\237\76")]=v24});end end end;v10.QuestDemos.CopyToDrafts=function(v25,v26,v27) local v28=0;local v29;local v30;while true do if (v28==3) then v10.QuestDrafts:Save(v30);return v30;end if (v28==2) then v30.script=v29.script;v30.parameters={[v8("\184\198\218\5\43\47","\75\220\163\183\106\98")]=v29.demoId};v28=3;end if (v28==0) then assert(type(v26)==v8("\168\66\219\169\52\87","\161\219\54\169\192\90\48\80") ,v8("\77\71\13\42\96\70\64\55\76\83\21\44\90\2\16\42\92\80\64\41\72\2\3\42\89\75\5","\69\41\34\96"));v29=v25:FindByID(v26);v28=1;end if (v28==1) then v30=v10.QuestDrafts:NewDraft();v30.draftName=v27 or v29.demoName ;v28=2;end end end;v10.QuestDemos.StartDemo=function(v31,v32) local v33=0;local v34;local v35;local v36;while true do if (v33==1) then if ((v34.requires and  not v31:HasCompleted(v34.requires)) or (2735==1309)) then local v51=0;local v52;while true do if (v51==0) then v52=v31:FindByID(v34.requires);v10.Logger:Error("Vous devez terminer la quête '%s' avant de commencer celle-ci.",(v52 and v52.demoName) or v34.requires );v51=1;end if (v51==1) then return;end end end v35,v36=v31:CompileDemo(v32);v33=2;end if (v33==2) then if ( not v35 or (4130<=2955)) then local v53=0;while true do if (v53==0) then v10.Logger:Error("Impossible de compiler la quête de démonstration : %s",v36);return;end end end v10.QuestInfoFrame:ShowQuest(v36);break;end if (v33==0) then v34=v31:FindByID(v32);if ((2958<4503) and  not v34) then local v54=0;while true do if (v54==0) then v10.Logger:Error("Aucune quête de démonstration trouvée avec l’ID : %s",v32);return;end end end v33=1;end end end;v10.QuestDemos.MarkDemoCompleted=function(v37,v38) local v39=0;local v40;while true do if (v39==0) then v40=v10.SaveData:LoadTable(v8("\38\191\134\56\233\16\181\140\37\220\17\169","\185\98\218\235\87"),false);v40[v38]=true;v39=1;end if (v39==1) then v10.SaveData:Save(v8("\239\57\42\233\238\184\196\59\53\227\205\185","\202\171\92\71\134\190"),v40,false);break;end end end;v10.QuestDemos.HasCompleted=function(v41,v42) local v43=0;local v44;while true do if (v43==0) then v44=v10.SaveData:LoadTable(v8("\13\196\33\135\25\211\35\143\59\196\63\155","\232\73\161\76"),false);return v44[v42]==true ;end end end;